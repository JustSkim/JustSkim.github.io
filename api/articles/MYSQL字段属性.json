{"title":"MYSQL字段属性","slug":"MYSQL字段属性","date":"2021-09-05T07:24:32.452Z","updated":"2021-09-08T09:59:49.338Z","comments":true,"path":"api/articles/MYSQL字段属性.json","photos":[],"link":"","excerpt":null,"covers":["images/workbench中的列属性.png"],"content":"<h1 id=\"MYSQL字段属性\"><a href=\"#MYSQL字段属性\" class=\"headerlink\" title=\"MYSQL字段属性\"></a>MYSQL字段属性</h1><p>参考<a href=\"https://www.cnblogs.com/xiezunxu/articles/8278775.html\">博客“MySql中的列属性”</a><a href=\"%5B%E5%8D%9A%E5%AE%A2%E2%80%9CMySql%E4%B8%AD%E7%9A%84%E5%88%97%E5%B1%9E%E6%80%A7%E2%80%9D%5D(https://www.cnblogs.com/xiezunxu/articles/8278775.html)\">^1</a>：</p>\n<blockquote>\n<p>MySql中，真正约束字段的是数据类型，但是数据类型的约束太单一，因此我们需要有一些额外的约束，来更加保证数据的合法性。</p>\n</blockquote>\n<p><code>MySql</code>中的常用列属性有：<strong>null、not null、default、primary key、auto_increment、comment</strong>。<br>下面以博主所用当前最新的<code>Mysql</code>版本<code>2021-9-1 mysql  Ver 8.0.26 for Win64 on x86_64 (MySQL Community Server - GPL)</code>为例介绍几个列属性值：</p>\n<h3 id=\"1-主键-primary-key\"><a href=\"#1-主键-primary-key\" class=\"headerlink\" title=\"1. 主键 primary key\"></a>1. 主键 primary key</h3><p>主键（primary key）有以下几个作用：</p>\n<ul>\n<li>能唯一标识记录的字段，可以作为主键。</li>\n<li>一个表最多只能有一个主键。</li>\n<li>主键具有唯一性，因此又称唯一键<br>需要<strong>特别注意</strong>的是：<ol>\n<li>主键字段的值不能为null;</li>\n<li>主键可以由多个字段共同组成。此时需要在字段列表后声明的方法。<br>使用主键：声明字段时，用 primary key 标识。</li>\n</ol>\n</li>\n</ul>\n<p>添加主键有以下四种方式：</p>\n<ol>\n<li>创建表的时候，在字段后加上 primary key。　　　　　　　<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法： 字段名 数据类型 <span class=\"keyword\">primary</span> key </span><br><span class=\"line\">#例子：添加一个名叫【my_primark_key1】的表，为其添加id字段和name字段，且将id字段设置成主键。</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_primary_key1(</span><br><span class=\"line\">\tid <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key,</span><br><span class=\"line\">\tname <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">)charset utf8; </span><br></pre></td></tr></table></figure>\n注意，使用这种主键定义方式的话，只能给一个字段添加primary key，如果为多个字段添加这一标识，如<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> ttt_test(</span><br><span class=\"line\">    id <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key,</span><br><span class=\"line\">    name <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">primary</span> key</span><br><span class=\"line\">)charset utf8;</span><br></pre></td></tr></table></figure>\n就会导致以下的报错：<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR <span class=\"number\">1068</span> (<span class=\"number\">42000</span>): Multiple <span class=\"keyword\">primary</span> key defined</span><br></pre></td></tr></table></figure>\n插入数据：<code>insert into my_primary_key values(1001,&#39;张三&#39;);</code><br>如果我们再次插入一条主键相同的数据，如: </li>\n</ol>\n<p><code>insert into my_primary_key values(1001,&#39;张大&#39;);</code><br>就会产生报错：</p>\n<p><code>Duplicate entry &#39;1001&#39; for key &#39;PRIMARY&#39;</code><br>报错的原因是主键值不能相同。</p>\n<ol start=\"2\">\n<li>复合主键。<br>在创建表的时候，在所有的字段之后，使用primay key(主键字段列表)来创建主键(可以有多个字段作为主键)来创建复合主键。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：<span class=\"keyword\">primary</span> key(字段<span class=\"number\">1</span>，字段<span class=\"number\">2.</span>.....)<span class=\"operator\">*</span><span class=\"operator\">*</span></span><br><span class=\"line\">#例子：创建一张【my_primark_key2】的表，为其添加number字段(<span class=\"type\">int</span>类型)和classname 字段(<span class=\"type\">varchar</span>类型)，将这个字段添加成复合主键。<span class=\"operator\">*</span><span class=\"operator\">*</span>　　　　　　　　　　</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_primary_key2(</span><br><span class=\"line\">  number <span class=\"type\">int</span> <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  classname <span class=\"type\">varchar</span>(<span class=\"number\">20</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">  <span class=\"keyword\">primary</span> key(number,classname)</span><br><span class=\"line\">)charset utf8;</span><br></pre></td></tr></table></figure>\n插入数据：<strong>插入数据只有两个字段(number,name)共同重复时才会插入失败</strong>，如果只有1个字段重复，而<strong>另一个字段不重复</strong>，那么就被<strong>允许插入</strong>。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_primary_key2(number,classname) <span class=\"keyword\">values</span>(<span class=\"number\">1001</span>,<span class=\"string\">&#x27;高一(2)班&#x27;</span>); </span><br><span class=\"line\">#插入成功</span><br><span class=\"line\">　<span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_primary_key2(number,classname) <span class=\"keyword\">values</span>(<span class=\"number\">1001</span>,<span class=\"string\">&#x27;高一(3)班&#x27;</span>); #也成功插入，因为插入的值中有<span class=\"number\">1</span>个字段的值与表中的值不一样。</span><br></pre></td></tr></table></figure></li>\n<li>向表中的字段追加主键（该方法也适合于修改字段的其他属性值/增加其他标识）。　　　　　<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：<span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名字 字段名 数据类型 <span class=\"keyword\">primary</span> key(新建一个字段，添加主键，如果字段已经存在要用修改的方式）;</span><br><span class=\"line\">#例子：新建一个名叫【my_primary_key3】的表，为其加入id字段和name字段。</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_primary_key3(</span><br><span class=\"line\">\tid <span class=\"type\">int</span>,</span><br><span class=\"line\">\tname <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">)charset utf8;</span><br><span class=\"line\">#修改 my_primary_key3表中的id字段为主键。</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> my_primary_key2 modify id <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key comment <span class=\"string\">&#x27;编号&#x27;</span>;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<ol start=\"4\">\n<li>通过add primary key(字段名) 进行添加。<br>语法：alter table 表名字 add primary key(要添加主键的字段名);<br>例子：添加id为主键。<br><code>alter table userinfo  add primary key(id);</code><br>主键约束。</li>\n</ol>\n<p>主键对应的字段中的数据不允许重复，一旦重复，操作失败。<br>主键没有办法更新，只能先删除主键，然后再添加主键。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：<span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名字 <span class=\"keyword\">drop</span> <span class=\"keyword\">primary</span> key</span><br><span class=\"line\">#例子：修改【my_primary_key3】表中已存在的主键，为name字段设置主键。</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> my_primary_key3 <span class=\"keyword\">drop</span> <span class=\"keyword\">primary</span> key3; <span class=\"comment\">-- 先删除。</span></span><br><span class=\"line\">#为name 字段添加主键(以修改的形式)。</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> my_primary_key3 modify name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">primary</span> key;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-unique-唯一索引（唯一约束）\"><a href=\"#2-unique-唯一索引（唯一约束）\" class=\"headerlink\" title=\"2. unique 唯一索引（唯一约束）\"></a>2. unique 唯一索引（唯一约束）</h3><p>  使得某字段的值也不能重复。<br>一张表往往有很多字段需要具有唯一性，数据不能重复，这个时候用唯一键(unique)就体现出其优势了，可以解决表中多个字段需要唯一性约束的问题，唯一键的本质与主键的性质差不多，唯一键默认的允许字段为空，</p>\n<p>　　而且可以多个字段为空(空字段不参与唯一性比较)。</p>\n<p>添加唯一键。<br>语法：字段名 数据类型 unique/unique key<br>有3种方式添加唯一键。</p>\n<ol>\n<li><p>在字段后面添加唯一键。<br>例子：新建一张【my_unique】的表，为其添加一个name字段，并设置成唯一键。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_unique(</span><br><span class=\"line\">\tname <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span> <span class=\"keyword\">unique</span></span><br><span class=\"line\">)charset utf8;</span><br><span class=\"line\">#插入数据：</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_unique(<span class=\"string\">&#x27;李四&#x27;</span>);  </span><br><span class=\"line\">#再次插入一个名叫李四的就会报错。</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li><p>在所有的字段之后添加 unique key(字段列表)，复合唯一键。<br>例子：添加一张【my_unique】的表，为其添加number字段(int类型)和name字段(varchar类型)，然后将两个设置成复合唯一键。　　　　　　　　　　</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_unique2(</span><br><span class=\"line\">number <span class=\"type\">int</span> <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">name <span class=\"type\">varchar</span>(<span class=\"number\">20</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\"><span class=\"keyword\">unique</span> key(number,name)</span><br><span class=\"line\">)charset utf8;</span><br><span class=\"line\">#插入数据。　　　　　　　　　　　　　　</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_unique2 <span class=\"keyword\">values</span>(<span class=\"number\">10001</span>,<span class=\"string\">&#x27;张三&#x27;</span>); # 有效数据</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_unique2 <span class=\"keyword\">values</span>(<span class=\"number\">10001</span>,<span class=\"string\">&#x27;李四&#x27;</span>); # 有效数据(符合唯一键是两个字段值要相同)</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_unique2 <span class=\"keyword\">values</span>(<span class=\"number\">10001</span>,<span class=\"string\">&#x27;张三&#x27;</span>); # 无效数据(复合主键重复了)</span><br></pre></td></tr></table></figure></li>\n<li><p>追加唯一键。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：<span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名字 <span class=\"keyword\">add</span> unque key(字段名);</span><br><span class=\"line\">#例子：新建一张【my_unique3】的表，添加一个字段name(carchar类型)。</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_unique3(</span><br><span class=\"line\">    name <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">)charset utf8;</span><br><span class=\"line\">#向my_unique3表中追加唯一键。</span><br><span class=\"line\"><span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> my_unique3 <span class=\"keyword\">add</span> <span class=\"keyword\">unique</span> key(name);</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>更新唯一键的方法：先删除，后新增。</p>\n<p>删除唯一键：<br><code>语法：alter table 表名字 drop index 索引名字(唯一键默认的使用字段名作为索引名字)</code></p>\n<h3 id=\"3-空属性-null-约束\"><a href=\"#3-空属性-null-约束\" class=\"headerlink\" title=\"3. 空属性 null 约束\"></a>3. 空属性 null 约束</h3><p>空属性有2个值，分别是 null(空，默认的) 和 not null(不为空)，mysql数据库默认字段都是为null的，但是在实际开发过程中，尽可能保证所有的数据都不应该为null，空数据没有意义，空数据没有办法参加运算<br>注意！<strong>null不是数据类型，是列的一个属性</strong>。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   # 语法：字段名 数据类型 <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>　</span><br><span class=\"line\">   <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_notnull(</span><br><span class=\"line\">       name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">   )charset utf8;</span><br><span class=\"line\">#此时表示将第一个字段的值设为<span class=\"keyword\">null</span>, 取决于该字段是否允许为<span class=\"keyword\">null</span></span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> tab <span class=\"keyword\">values</span> (<span class=\"keyword\">null</span>, <span class=\"string\">&#x27;val&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"4-default-默认值属性\"><a href=\"#4-default-默认值属性\" class=\"headerlink\" title=\"4. default 默认值属性\"></a>4. default 默认值属性</h3><p>  当前字段的默认值，用default表示，某一种数据会经常的出现某个具体值，可以在一开始指定好，在需要真实数据的时候，用户可以选择性地使用默认值。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：字段名 数据类型 <span class=\"keyword\">default</span> 默认值</span><br><span class=\"line\">#例子：添加一个【my_default】表，为其添加name字段，age字段，并未age字段指定默认值为<span class=\"number\">18</span>。　　　　　 </span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_default(</span><br><span class=\"line\">\tname <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span> comment <span class=\"string\">&#x27;姓名&#x27;</span>,</span><br><span class=\"line\">\tage tinyint unsigned <span class=\"keyword\">not</span> <span class=\"keyword\">null</span> <span class=\"keyword\">default</span> <span class=\"number\">18</span> comment <span class=\"string\">&#x27;年龄&#x27;</span></span><br><span class=\"line\">)charset utf8;</span><br><span class=\"line\"></span><br><span class=\"line\">#插入数据：如果要使用默认值，在给表插入数据的时候，不给字段赋值即可。</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span>  my_default(name) <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;张三&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"5-auto-increment-自动增长约束\"><a href=\"#5-auto-increment-自动增长约束\" class=\"headerlink\" title=\"5. auto_increment 自动增长约束\"></a>5. auto_increment 自动增长约束</h3><p>注意拼写方式为auto_increment，有下划线连接<br>当对应的<strong>字段不给值，或者给null</strong>的时候会自动地被系统触发，系统会从当前字段中已有的最大值再进行+1，得到一个新的不同的字段，通常和主键搭配。</p>\n<p>自动增长必须为索引（主键或unique）</p>\n<p><strong>只能存在一个字段</strong>为<strong>自增长auto_increment</strong>。<br>默认为1开始自动增长。可以通过表属性 <code>auto_increment = x</code>进行设置，或<code>alter table tbl auto_increment = x;</code><br>自增长的特点 ：</p>\n<ol>\n<li>任何一个字段做自增长前提 自身是一个索引(key一栏有值)。</li>\n<li>自增长字段通常是<strong>整形</strong>。</li>\n<li>一个表中只能有1个自增长。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#例子：添加一张【my_auto_increment】的表，为其添加id字段和name字段，其中id字段设置成主键和自增长。</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_auto_increment(</span><br><span class=\"line\">\tid <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key auto_increment,</span><br><span class=\"line\">\tname <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">)charset utf8;</span><br></pre></td></tr></table></figure>\n插入值：　　　　　<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_auto_Increment <span class=\"keyword\">values</span>(<span class=\"keyword\">null</span>,<span class=\"string\">&#x27;张三&#x27;</span>); #有效</span><br><span class=\"line\"><span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> my_auto_Increment(name) <span class=\"keyword\">values</span>(<span class=\"string\">&#x27;李四&#x27;</span>); #有效</span><br></pre></td></tr></table></figure>\n自增长如果<strong>对应的字段输入了值，那么自增长失效</strong>，但是**下一次还是能够正确的自增长(从最大值+1)**。<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">5</span> <span class=\"operator\">|</span> Cook   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">insert</span> my_auto_increment <span class=\"keyword\">values</span>(<span class=\"keyword\">null</span>,&quot;Taylo&quot;);</span><br><span class=\"line\">Query OK, <span class=\"number\">1</span> <span class=\"type\">row</span> affected (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">5</span> <span class=\"operator\">|</span> Cook   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">7</span> <span class=\"operator\">|</span> Taylo  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+--------+</span></span><br><span class=\"line\"><span class=\"number\">5</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\">#可以看到，新插入的id为<span class=\"number\">7</span>而不是<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>修改自增长：<br>自增长如果是涉及到字段改变，必须先删除自增长，后增加，一张表中只能有1个自增长。<br>修改当前已存在自增长的值，！特别注意：修改只能比当前已有的自增长的最大值大，不能小(小则不生效)！</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#插入数据</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">insert</span> my_auto_increment <span class=\"keyword\">values</span>(<span class=\"keyword\">null</span>,&quot;Chechil&quot;);</span><br><span class=\"line\">Query OK, <span class=\"number\">1</span> <span class=\"type\">row</span> affected (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">7</span> <span class=\"operator\">|</span> Taylo   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">13</span> <span class=\"operator\">|</span> Cook    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">14</span> <span class=\"operator\">|</span> Brazil  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">15</span> <span class=\"operator\">|</span> Chechil <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"number\">7</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#修改某个数据的自增长属性值，由<span class=\"number\">14</span>改为<span class=\"number\">20</span></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> update my_auto_increment <span class=\"keyword\">set</span> id <span class=\"operator\">=</span> <span class=\"number\">15</span> <span class=\"keyword\">where</span> name<span class=\"operator\">=</span><span class=\"string\">&#x27;Chechil&#x27;</span>;</span><br><span class=\"line\">Query OK, <span class=\"number\">0</span> <span class=\"keyword\">rows</span> affected (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"><span class=\"keyword\">Rows</span> matched: <span class=\"number\">1</span>  Changed: <span class=\"number\">0</span>  Warnings: <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">7</span> <span class=\"operator\">|</span> Taylo   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">13</span> <span class=\"operator\">|</span> Cook    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">14</span> <span class=\"operator\">|</span> Brazil  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">20</span> <span class=\"operator\">|</span> Chechil <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"number\">7</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">#再次插入数据</span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">insert</span> my_auto_increment <span class=\"keyword\">values</span>(<span class=\"keyword\">null</span>,&quot;Agent&quot;);</span><br><span class=\"line\">Query OK, <span class=\"number\">1</span> <span class=\"type\">row</span> affected (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">7</span> <span class=\"operator\">|</span> Taylo   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">13</span> <span class=\"operator\">|</span> Cook    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">14</span> <span class=\"operator\">|</span> Brazil  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">20</span> <span class=\"operator\">|</span> Chechil <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">21</span> <span class=\"operator\">|</span> Agent   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"number\">8</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\">#注意！！！插入的数据从最大值<span class=\"operator\">+</span><span class=\"number\">1</span>开始，前面的全部跳过不管！！</span><br></pre></td></tr></table></figure>\n\n<p>删除自增增长。<br>自增长是字段的一个属性，可以通过modify属性来修改(字段没有自增长)。<br>语法：alter table 表名字 modify 字段名 数据类型<br>例子：将【my_auto_Increment】表中 id字段的自增长去掉。<br><code>alter table my_auto_increment modify id int;</code><br>　　　　　　　<br>自增长为什么从1开始（注意不像其他编程语言从0开始）？又为什么每次都是自增1呢？<br>所有系统的表现(如字符集、校对集)都是由系统的内部变量进行控制的。<br>查看自增长对应的变量的语法：show variables like ‘auto_increment%’; 　　　<br>可以修改变量实现不同的效果。如果对整个数据修改(而不是但张表)，这种方式是修改时会话级(当前客户端，当此连接有效，关闭失效)。<br>修改成一次自增为5:<br><code>set auto_increment_increment = 5;</code></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">set</span> my_auto_increment <span class=\"operator\">=</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">ERROR <span class=\"number\">1193</span> (HY000): <span class=\"literal\">Unknown</span> <span class=\"keyword\">system</span> variable <span class=\"string\">&#x27;my_auto_increment&#x27;</span></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">set</span> auto_increment <span class=\"operator\">=</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">ERROR <span class=\"number\">1193</span> (HY000): <span class=\"literal\">Unknown</span> <span class=\"keyword\">system</span> variable <span class=\"string\">&#x27;auto_increment&#x27;</span></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">show</span> variables <span class=\"keyword\">like</span> <span class=\"string\">&#x27;auto_increment%&#x27;</span>;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">--------------------------+-------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> Variable_name            <span class=\"operator\">|</span> <span class=\"keyword\">Value</span> <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">--------------------------+-------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> auto_increment_increment <span class=\"operator\">|</span> <span class=\"number\">1</span>     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> auto_increment_offset    <span class=\"operator\">|</span> <span class=\"number\">1</span>     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">--------------------------+-------+</span></span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span>, <span class=\"number\">1</span> warning (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\">#自增长的两个相关配置：auto_increment_offset和auto_increment_increment</span><br><span class=\"line\">#auto_increment_offset表示自增长字段从那个数开始，他的取值范围是<span class=\"number\">1</span> .. <span class=\"number\">65535</span></span><br><span class=\"line\">#auto_increment_increment表示自增长字段每次递增的量，其默认值是<span class=\"number\">1</span>，取值范围是<span class=\"number\">1</span> .. <span class=\"number\">65535</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">set</span> auto_increment_increment <span class=\"operator\">=</span> <span class=\"number\">5</span>;</span><br><span class=\"line\">Query OK, <span class=\"number\">0</span> <span class=\"keyword\">rows</span> affected (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">insert</span> my_auto_increment <span class=\"keyword\">value</span>(<span class=\"keyword\">null</span>,&quot;Panda&quot;);</span><br><span class=\"line\">Query OK, <span class=\"number\">1</span> <span class=\"type\">row</span> affected (<span class=\"number\">0.01</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> my_auto_increment;</span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span> id <span class=\"operator\">|</span> name    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">1</span> <span class=\"operator\">|</span> Mary    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">3</span> <span class=\"operator\">|</span> Tom     <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">6</span> <span class=\"operator\">|</span> Lowson  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span>  <span class=\"number\">7</span> <span class=\"operator\">|</span> Taylo   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">13</span> <span class=\"operator\">|</span> Cook    <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">14</span> <span class=\"operator\">|</span> Brazil  <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">20</span> <span class=\"operator\">|</span> Chechil <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">21</span> <span class=\"operator\">|</span> Agent   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">26</span> <span class=\"operator\">|</span> Panda   <span class=\"operator\">|</span></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">----+---------+</span></span><br><span class=\"line\"><span class=\"number\">9</span> <span class=\"keyword\">rows</span> <span class=\"keyword\">in</span> <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\">#可以看到，从<span class=\"number\">21</span>到<span class=\"number\">26</span>一次增加了<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-comment-注释（列描述）\"><a href=\"#6-comment-注释（列描述）\" class=\"headerlink\" title=\"6. comment 注释（列描述）\"></a>6. comment 注释（列描述）</h3><p>列描述(注释)：comment，实际没有什么含义，是专门用来描述字段的，会根据创建语句保存，用来给程序员(或者数据库管理员)来进行了解的。主要用于查看创建表的语法上进行查看。</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#语法：字段名 数据类型 comment ‘说明文字’</span><br><span class=\"line\">#例子：创建一张【my_comment 】的表，为其添加一个name字段，并为其添加说明。　　　　　</span><br><span class=\"line\"><span class=\"keyword\">create</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> my_comment(</span><br><span class=\"line\">    name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) comment <span class=\"string\">&#x27;姓名字段&#x27;</span></span><br><span class=\"line\">)charset utf8;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7-foreign-key-外键约束\"><a href=\"#7-foreign-key-外键约束\" class=\"headerlink\" title=\"7. foreign key 外键约束\"></a>7. foreign key 外键约束</h3><p><a href=\"https://blog.csdn.net/weixin_43054397/article/details/91349095\">CSDN博主「Mr.路痴」的这一篇原创文章</a>[^2]中提到了外键约束的一些特点：</p>\n<blockquote>\n<p>父表和子表必须使用<strong>相同的存储引擎</strong>，而且禁止使用临时表。<br>数据表的存储引擎只能为<strong>InnoDB</strong>。<br>外键列和参照列必须具有相似的数据类型，也就是可以相互转换类型的列，比如 int 和 tinyint 可以，而 int 和 char 则不可以<br>数字类型的长度以及是否有符号（是否unsigned）必须相同<br>字符类型的长度则可以不同。<br>外键列和参照列必须创建索引。如果外键列不存在索引，MySQl将自动创建。<br>外键的名字不能重复</p>\n</blockquote>\n<p><a href=\"http://c.biancheng.net/view/2441.html\">C语言中文网对于mysql外键约束的这一篇博客</a>[^3]讲的很好：</p>\n<p><a href=\"http://c.biancheng.net/mysql/\">MySQL</a> 外键约束（FOREIGN KEY）是表的一个特殊字段，经常与主键约束一起使用。对于两个具有关联关系的表而言，相关联字段中主键所在的表就是主表（父表），外键所在的表就是从表（子表）。</p>\n<p>外键用来建立主表与从表的关联关系，为两个表的数据建立连接，约束两个表中数据的一致性和完整性。比如，一个水果摊，只有苹果、桃子、李子、西瓜等 4 种水果，那么，你来到水果摊要买水果就只能选择苹果、桃子、李子和西瓜，其它的水果都是不能购买的。</p>\n<p>主表删除某条记录时，从表中与之对应的记录也必须有相应的改变。一个表可以有一个或多个外键，外键可以为空值，若不为空值，则每一个外键的值必须等于主表中主键的某个值。</p>\n<p>定义外键时，需要遵守下列规则：</p>\n<ul>\n<li>主表必须已经存在于数据库中，或者是当前正在创建的表。如果是后一种情况，则主表与从表是同一个表，这样的表称为自参照表，这种结构称为自参照完整性。</li>\n<li>必须为主表定义主键。</li>\n<li>主键不能包含空值，但允许在外键中出现空值。也就是说，只要外键的每个非空值出现在指定的主键中，这个外键的内容就是正确的。</li>\n<li>在主表的表名后面指定列名或列名的组合。这个列或列的组合必须是主表的主键或候选键。</li>\n<li>外键中列的数目必须和主表的主键中列的数目相同。</li>\n<li>外键中列的数据类型必须和主表主键中对应列的数据类型相同。</li>\n</ul>\n<h3 id=\"在创建表时设置外键约束\"><a href=\"#在创建表时设置外键约束\" class=\"headerlink\" title=\"在创建表时设置外键约束\"></a>在创建表时设置外键约束</h3><p>在 CREATE TABLE 语句中，通过 <strong>FOREIGN KEY</strong> 关键字来指定外键，具体的语法格式如下：</p>\n<p>[CONSTRAINT &lt;外键名&gt;] FOREIGN KEY 字段名 [，字段名2，…]<br>REFERENCES &lt;主表名&gt; 主键列1 [，主键列2，…]</p>\n<h4 id=\"例-1\"><a href=\"#例-1\" class=\"headerlink\" title=\"例 1\"></a>例 1</h4><p>为了展现表与表之间的外键关系，本例在 test_db 数据库中创建一个部门表 tb_dept1，表结构如下表所示。</p>\n<table>\n<thead>\n<tr>\n<th>字段名称</th>\n<th>数据类型</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>id</td>\n<td>INT(11)</td>\n<td>部门编号</td>\n</tr>\n<tr>\n<td>name</td>\n<td>VARCHAR(22)</td>\n<td>部门名称</td>\n</tr>\n<tr>\n<td>location</td>\n<td>VARCHAR(22)</td>\n<td>部门位置</td>\n</tr>\n</tbody></table>\n<p>创建 tb_dept1 的 SQL 语句和运行结果如下所示。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; CREATE TABLE tb_dept1</span><br><span class=\"line\">    -&gt; (</span><br><span class=\"line\">    -&gt; id INT(11) PRIMARY KEY,</span><br><span class=\"line\">    -&gt; name VARCHAR(22) NOT NULL,</span><br><span class=\"line\">    -&gt; location VARCHAR(50)</span><br><span class=\"line\">    -&gt; );</span><br><span class=\"line\">Query OK, 0 rows affected (0.37 sec)</span><br></pre></td></tr></table></figure>\n\n<p>创建数据表 tb_emp6，并在表 tb_emp6 上创建外键约束，让它的键 deptId 作为外键关联到表 tb_dept1 的主键 id，SQL 语句和运行结果如下所示。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; CREATE TABLE tb_emp6</span><br><span class=\"line\">    -&gt; (</span><br><span class=\"line\">    -&gt; id INT(11) PRIMARY KEY,</span><br><span class=\"line\">    -&gt; name VARCHAR(25),</span><br><span class=\"line\">    -&gt; deptId INT(11),</span><br><span class=\"line\">    -&gt; salary FLOAT,</span><br><span class=\"line\">    -&gt; CONSTRAINT fk_emp_dept1</span><br><span class=\"line\">    -&gt; FOREIGN KEY(deptId) REFERENCES tb_dept1(id)</span><br><span class=\"line\">    -&gt; );</span><br><span class=\"line\">Query OK, 0 rows affected (0.37 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; DESC tb_emp6;</span><br><span class=\"line\">+--------+-------------+------+-----+---------+-------+</span><br><span class=\"line\">| Field  | Type        | Null | Key | Default | Extra |</span><br><span class=\"line\">+--------+-------------+------+-----+---------+-------+</span><br><span class=\"line\">| id     | int(11)     | NO   | PRI | NULL    |       |</span><br><span class=\"line\">| name   | varchar(25) | YES  |     | NULL    |       |</span><br><span class=\"line\">| deptId | int(11)     | YES  | MUL | NULL    |       |</span><br><span class=\"line\">| salary | float       | YES  |     | NULL    |       |</span><br><span class=\"line\">+--------+-------------+------+-----+---------+-------+</span><br><span class=\"line\">4 rows in set (1.33 sec)</span><br></pre></td></tr></table></figure>\n\n<p>以上语句执行成功之后，在表 tb_emp6 上添加了名称为 fk_emp_dept1 的外键约束，外键名称为 deptId，其依赖于表 tb_dept1 的主键 id。</p>\n<blockquote>\n<p>注意：从表的外键关联的必须是主表的主键，且主键和外键的数据类型必须一致。例如，两者都是 INT 类型，或者都是 CHAR 类型。如果不满足这样的要求，在创建从表时，就会出现“ERROR 1005(HY000): Can’t create table”错误。</p>\n</blockquote>\n<h3 id=\"在修改表时添加外键约束\"><a href=\"#在修改表时添加外键约束\" class=\"headerlink\" title=\"在修改表时添加外键约束\"></a>在修改表时添加外键约束</h3><p>外键约束也可以在修改表时添加，但是添加外键约束的前提是：从表中外键列中的数据必须与主表中主键列中的数据一致或者是没有数据。</p>\n<p>在修改数据表时添加外键约束的语法格式如下：</p>\n<p>ALTER TABLE &lt;数据表名&gt; ADD CONSTRAINT &lt;外键名&gt;<br>FOREIGN KEY(&lt;列名&gt;) REFERENCES &lt;主表名&gt; (&lt;列名&gt;);</p>\n<h4 id=\"例-2\"><a href=\"#例-2\" class=\"headerlink\" title=\"例 2\"></a>例 2</h4><p>修改数据表 tb_emp2，将字段 deptId 设置为外键，与数据表 tb_dept1 的主键 id 进行关联，SQL 语句和运行结果如下所示。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; ALTER TABLE tb_emp2</span><br><span class=\"line\">    -&gt; ADD CONSTRAINT fk_tb_dept1</span><br><span class=\"line\">    -&gt; FOREIGN KEY(deptId)</span><br><span class=\"line\">    -&gt; REFERENCES tb_dept1(id);</span><br><span class=\"line\">Query OK, 0 rows affected (1.38 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SHOW CREATE TABLE tb_emp2\\G</span><br><span class=\"line\">*************************** 1. row ***************************</span><br><span class=\"line\">       Table: tb_emp2</span><br><span class=\"line\">Create Table: CREATE TABLE `tb_emp2` (</span><br><span class=\"line\">  `id` int(11) NOT NULL,</span><br><span class=\"line\">  `name` varchar(30) DEFAULT NULL,</span><br><span class=\"line\">  `deptId` int(11) DEFAULT NULL,</span><br><span class=\"line\">  `salary` float DEFAULT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`id`),</span><br><span class=\"line\">  KEY `fk_tb_dept1` (`deptId`),</span><br><span class=\"line\">  CONSTRAINT `fk_tb_dept1` FOREIGN KEY (`deptId`) REFERENCES `tb_dept1` (`id`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=gb2312</span><br><span class=\"line\">1 row in set (0.12 sec)</span><br></pre></td></tr></table></figure>\n\n<p>注意：在为已经创建好的数据表添加外键约束时，要确保添加外键约束的列的值全部来源于主键列，并且外键列不能为空。</p>\n<h3 id=\"删除外键约束\"><a href=\"#删除外键约束\" class=\"headerlink\" title=\"删除外键约束\"></a>删除外键约束</h3><p>当一个表中不需要外键约束时，就需要从表中将其删除。外键一旦删除，就会解除主表和从表间的关联关系。</p>\n<p>删除外键约束的语法格式如下所示：</p>\n<p>ALTER TABLE &lt;表名&gt; DROP FOREIGN KEY &lt;外键约束名&gt;;</p>\n<h4 id=\"例-3\"><a href=\"#例-3\" class=\"headerlink\" title=\"例 3\"></a>例 3</h4><p>删除数据表 tb_emp2 中的外键约束 fk_tb_dept1，SQL 语句和运行结果如下所示。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; ALTER TABLE tb_emp2</span><br><span class=\"line\">    -&gt; DROP FOREIGN KEY fk_tb_dept1;</span><br><span class=\"line\">Query OK, 0 rows affected (0.19 sec)</span><br><span class=\"line\">Records: 0  Duplicates: 0  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SHOW CREATE TABLE tb_emp2\\G</span><br><span class=\"line\">*************************** 1. row ***************************</span><br><span class=\"line\">       Table: tb_emp2</span><br><span class=\"line\">Create Table: CREATE TABLE `tb_emp2` (</span><br><span class=\"line\">  `id` int(11) NOT NULL,</span><br><span class=\"line\">  `name` varchar(30) DEFAULT NULL,</span><br><span class=\"line\">  `deptId` int(11) DEFAULT NULL,</span><br><span class=\"line\">  `salary` float DEFAULT NULL,</span><br><span class=\"line\">  PRIMARY KEY (`id`),</span><br><span class=\"line\">  KEY `fk_tb_dept1` (`deptId`)</span><br><span class=\"line\">) ENGINE=InnoDB DEFAULT CHARSET=gb2312</span><br><span class=\"line\">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>\n\n<p>可以看到，tb_emp2 中已经不存在 FOREIGN KEY，原有的名称为 fk_emp_dept 的外键约束删除成功。</p>\n<h2 id=\"Mysql-workbench中的其他列属性\"><a href=\"#Mysql-workbench中的其他列属性\" class=\"headerlink\" title=\"Mysql workbench中的其他列属性\"></a>Mysql workbench中的其他列属性</h2><img src=\"images/workbench中的列属性.png\">\n\n<p>根据这一篇<a href=\"https://www.boris1993.com/database/mysql/column-flags-in-mysql-workbench.html\">博客《MySQL Workbench 中各个列属性的含义》</a>：</p>\n<blockquote>\n<ul>\n<li><code>PK</code>: 主键 (Primary Key)</li>\n<li><code>NN</code>: 非空 (Not Null)</li>\n<li><code>UQ</code>: 唯一索引 (Unique Index)</li>\n<li><code>BIN</code>: 二进制 (Binary) 将数据储存为二进制字符串</li>\n<li><code>UN</code>: 无符号的 (Unsigned)</li>\n<li><code>ZF</code>: 零填充的 (Zero Fill) 如：INT (5) 的列中，<code>12</code> 会被填充为 <code>00012</code></li>\n<li><code>AI</code>: 自增长的 (Auto Increment)</li>\n<li><code>G</code>: 生成出来的 (Generated) 如：根据公式从其它列中生成的数据</li>\n</ul>\n</blockquote>\n<p>之前我们已经讲过了里面的很多属性，下面重点介绍四个：unsigned、binary、generated和unique inex。</p>\n<h3 id=\"unsiged属性\"><a href=\"#unsiged属性\" class=\"headerlink\" title=\"unsiged属性\"></a>unsiged属性</h3><p>UNSIGNED属性将数字类型无符号化，与C、C++这些程序语言中的unsigned含义相同。例如，INT的类型范围是-2 147 483 648 ～ 2 147 483 647， INT UNSIGNED的范围类型就是0 ～ 4 294 967 295。</p>\n<p>在MYSQL中整型范围：</p>\n<p>类型         大小      范围（有符号）                范围（无符号） 用途</p>\n<p>TINYINT      1 字节  (-128，127)                   (0，255) 小整数值</p>\n<p>SMALLINT    2 字节  (-32 768，32 767)              (0，65 535) 大整数值</p>\n<p>MEDIUMINT   3 字节  (-8 388 608，8 388 607)         (0，16 777 215) 大整数值</p>\n<p>INT或INTEGER 4 字节  (-2 147 483 648，2 147 483 647)   (0，4 294 967 295) 大整数值</p>\n<h3 id=\"binary属性\"><a href=\"#binary属性\" class=\"headerlink\" title=\"binary属性\"></a>binary属性</h3><p>binary属性只用于<strong>char</strong>和<strong>varchar</strong>值。当为列指定了该属性时，将以区分大小写的方式排序。与之相反，忽略binary属性时，将使用不区分大小写的方式排序</p>\n<h3 id=\"generated-column属性\"><a href=\"#generated-column属性\" class=\"headerlink\" title=\"generated column属性\"></a>generated column属性</h3><p>Generated Column是MySQL5.7引入的新特性，博客<a href=\"https://www.cnblogs.com/lixigang/articles/5082589.html\">MySQL 5.7新特性之Generated Column</a>中对此有详细解释：</p>\n<blockquote>\n<p>所谓Cenerated Column，就是数据库中这一列由其他列计算而得，我们以官方参考手册中的例子予以说明。</p>\n<p>例如，知道直角三角形的两条直角边，要求斜边的长度。很明显，斜边的长度可以通过两条直角边计算而得，那么，这时候就可以在数据库中只存放直角边，斜边使用Generated Column，如下所示：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> triangle (</span><br><span class=\"line\">\tsidea <span class=\"keyword\">DOUBLE</span>,#直角边a</span><br><span class=\"line\">\tsideb <span class=\"keyword\">DOUBLE</span>,#直角边b</span><br><span class=\"line\">\tsidec <span class=\"keyword\">DOUBLE</span> <span class=\"keyword\">AS</span> (<span class=\"built_in\">SQRT</span>(sidea <span class=\"operator\">*</span> sidea <span class=\"operator\">+</span> sideb <span class=\"operator\">*</span> sideb))</span><br><span class=\"line\">    #根据公式求出斜边c</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> triangle (sidea, sideb) <span class=\"keyword\">VALUES</span>(<span class=\"number\">1</span>,<span class=\"number\">1</span>),(<span class=\"number\">3</span>,<span class=\"number\">4</span>),(<span class=\"number\">6</span>,<span class=\"number\">8</span>);</span><br></pre></td></tr></table></figure>\n<p>查询结果：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql<span class=\"operator\">&gt;</span> <span class=\"keyword\">SELECT</span> <span class=\"operator\">*</span> <span class=\"keyword\">FROM</span> triangle;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">-------+-------+--------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">|</span> sidea <span class=\"operator\">|</span> sideb <span class=\"operator\">|</span> sidec <span class=\"operator\">|</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">-------+-------+--------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">1</span> <span class=\"operator\">|</span> <span class=\"number\">1</span> <span class=\"operator\">|</span> <span class=\"number\">1.4142135623730951</span> <span class=\"operator\">|</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">3</span> <span class=\"operator\">|</span> <span class=\"number\">4</span> <span class=\"operator\">|</span> <span class=\"number\">5</span> <span class=\"operator\">|</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">|</span> <span class=\"number\">6</span> <span class=\"operator\">|</span> <span class=\"number\">8</span> <span class=\"operator\">|</span> <span class=\"number\">10</span> <span class=\"operator\">|</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">+</span><span class=\"comment\">-------+-------+--------------------+</span></span><br></pre></td></tr></table></figure>\n<p>这个例子就足以说明Generated Columns是什么，以及怎么使用用了。</p>\n</blockquote>\n<h2 id=\"Mysql中key、primary-key、unique-key、index之间的区别\"><a href=\"#Mysql中key、primary-key、unique-key、index之间的区别\" class=\"headerlink\" title=\"Mysql中key、primary key、unique key、index之间的区别\"></a>Mysql中key、primary key、unique key、index之间的区别</h2><p>以下引用自<a href=\"https://www.jianshu.com/p/19fff558c182\">简书发布者陈琰AC的博客</a></p>\n<blockquote>\n<h4 id=\"一、Key\"><a href=\"#一、Key\" class=\"headerlink\" title=\"一、Key\"></a>一、Key</h4><p><strong>1.1 key 是数据库的物理结构，它包含两层意义和作用</strong></p>\n<ul>\n<li>一是约束：偏重于约束和规范数据库的结构完整性</li>\n<li>二是索引：辅助查询用的</li>\n</ul>\n<p>key包括primary key, unique key, foreign key 等。</p>\n<p><strong>1.2 primary key 有两个作用，一是约束作用（constraint），用来规范一个存储主键和唯一性，但同时也在此key上建立了一个主键索引</strong></p>\n<p>primary key 约束：唯一标识数据库表中的每条记录</p>\n<ul>\n<li>主键必须包含唯一的值；</li>\n<li>主键列不能包含 NULL 值；</li>\n<li>每个表都应该有一个主键，并且每个表只能有一个主键。（primary key 拥有自动定义的 unique 约束）</li>\n</ul>\n<p><strong>1.3 unique key 也有两个作用，一是约束作用（constraint），规范数据的唯一性，但同时也在这个key上建立了一个唯一索引</strong></p>\n<p>unique 约束：唯一标识数据库表中的每条记录。</p>\n<ul>\n<li>unique 和 primary key 约束均为列或列集合提供了唯一性的保证。<br>-每个表可以有多个 unique 约束，但是每个表只能有一个primary key 约束.</li>\n</ul>\n<p><strong>1.4 foreign key也有两个作用，一是约束作用（constraint），规范数据的引用完整性，但同时也在这个key上建立了一个index</strong></p>\n<p>可见，MySQL的key是同时具有constraint和index的意义，这点和其他数据库表现的可能有区别（至少在oracle上建立外键，不会自动建立index）。</p>\n<p><strong>1.5 因此创建key也有如下几种方式：</strong><br>（1）在字段级以key方式建立， 如 create table t (id int not null primary key);<br>（2）在表级以constraint方式建立，如create table t(id int, CONSTRAINT pk_t_id PRIMARY key (id));<br>（3）在表级以key方式建立，如create table t(id int, primary key (id));</p>\n<p>其它key创建类似，但不管那种方式，既建立了constraint，又建立了index，只不过index使用的就是这个constraint或key。</p>\n<h4 id=\"二、Index\"><a href=\"#二、Index\" class=\"headerlink\" title=\"二、Index\"></a>二、Index</h4><p>index是数据库的物理结构，它只是辅助查询的，它创建时会在另外的表空间（mysql中的innodb表空间）以一个类似目录的结构存储。索引要分类的话，分为前缀索引、全文本索引等。因此，索引只是索引，它不会去约束索引的字段的行为（那是key要做的事情）。我们说索引分类，分为：</p>\n<ul>\n<li>主键索引（必须指定为“PRIMARY KEY”，没有PRIMARY Index）</li>\n<li>唯一索引（unique index，一般写成unique key）</li>\n<li>普通索引(index，只有这一种才是纯粹的index)</li>\n</ul>\n<h4 id=\"三、Index-与Key-的区别\"><a href=\"#三、Index-与Key-的区别\" class=\"headerlink\" title=\"三、Index 与Key 的区别\"></a>三、Index 与Key 的区别</h4><p>Key即键值，是关系模型理论中的一部份，比如有主键（Primary Key)，外键（Foreign Key）等，用于数据完整性检否与唯一性约束等。而Index则处于实现层面，比如可以对表的任意列建立索引，那么当建立索引的列处于SQL语句中的Where条件中时，就可以得到快速的数据定位，从而快速检索。至于Unique Index，则只是属于Index中的一种而已，建立了Unique Index表示此列数据不可重复。<br>在设计表的时候，Key只是处于模型层面的，而当需要进行查询优化，则对相关列建立索引即可。另外，在MySQL中，对于一个Primary Key的列，MySQL已经自动对其建立了Unique Index，无需重复再在上面建立索引了。</p>\n<h4 id=\"四、UNIQUE-KEY和PRIMARY-KEY有什么区别\"><a href=\"#四、UNIQUE-KEY和PRIMARY-KEY有什么区别\" class=\"headerlink\" title=\"四、UNIQUE KEY和PRIMARY KEY有什么区别\"></a>四、UNIQUE KEY和PRIMARY KEY有什么区别</h4><ul>\n<li>Primary key的1个或多个列必须为NOT NULL，如果列为NULL，在增加PRIMARY KEY时，列自动更改为NOT NULL。而UNIQUE KEY 对列没有此要求。</li>\n<li>一个表只能有一个PRIMARY KEY，但可以有多个UNIQUE KEY</li>\n<li>主键和唯一键约束是通过参考索引实施的，如果插入的值均为NULL，则根据索引的原理，全NULL值不被记录在索引上，所以插入全NULL值时，可以有重复的，而其他的则不能插入重复值。</li>\n</ul>\n</blockquote>\n<h2 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h2><p>[^2]: <a href=\"https://blog.csdn.net/weixin_43054397/article/details/91349095\">MySQl 外键约束（FOREIGN KEY）</a><br>[^3]: <a href=\"http://c.biancheng.net/view/2441.html\">C语言中文网对于mysql外键约束的这一篇博客讲的很好</a> </p>\n","categories":[{"name":"Mysql","slug":"Mysql","count":2,"path":"api/categories/Mysql.json"}],"tags":[{"name":"mysql","slug":"mysql","count":2,"path":"api/tags/mysql.json"},{"name":"数据存储","slug":"数据存储","count":2,"path":"api/tags/数据存储.json"}]}