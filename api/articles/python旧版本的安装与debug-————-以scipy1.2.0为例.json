{"title":"python旧版本的安装与debug ———— 以scipy1.2.0为例","slug":"python旧版本的安装与debug-————-以scipy1.2.0为例","date":"2021-09-15T13:25:23.482Z","updated":"2021-09-15T14:03:32.753Z","comments":true,"path":"api/articles/python旧版本的安装与debug-————-以scipy1.2.0为例.json","photos":[],"link":"","excerpt":null,"covers":["/images/成功的运行结果.png"],"content":"<h1 id=\"python旧版本的安装与debug-————-以scipy1-2-0为例\"><a href=\"#python旧版本的安装与debug-————-以scipy1-2-0为例\" class=\"headerlink\" title=\"python旧版本的安装与debug ———— 以scipy1.2.0为例\"></a>python旧版本的安装与debug ———— 以scipy1.2.0为例</h1><p>在对照<a href=\"http://www.numpy.org.cn/article/basics/python_numpy_tutorial.html#%E5%AD%90%E5%9B%BE\">numpy中文文档</a>进行学习时，使用pip安装对应的包，启动以下示例代码中的py文件：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">from</span> scipy.misc <span class=\"keyword\">import</span> imread, imresize</span><br><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"></span><br><span class=\"line\">img = imread(<span class=\"string\">&#x27;assets/cat.jpg&#x27;</span>) <span class=\"comment\">#这里的是一张自定义的资源图片文件</span></span><br><span class=\"line\">img_tinted = img * [<span class=\"number\">1</span>, <span class=\"number\">0.95</span>, <span class=\"number\">0.9</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Show the original image</span></span><br><span class=\"line\">plt.subplot(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">plt.imshow(img)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># Show the tinted image</span></span><br><span class=\"line\">plt.subplot(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># A slight gotcha with imshow is that it might give strange results</span></span><br><span class=\"line\"><span class=\"comment\"># if presented with data that is not uint8. To work around this, we</span></span><br><span class=\"line\"><span class=\"comment\"># explicitly cast the image to uint8 before displaying it.</span></span><br><span class=\"line\">plt.imshow(np.uint8(img_tinted))</span><br><span class=\"line\">plt.show()</span><br></pre></td></tr></table></figure>\n<p>产生报错如下：<br><code>AttributeError: &#39;module&#39; object has no attribute &#39;imread&#39; </code><br>经过查询相关博客，发现导致该报错的原因在于，从1.3版本开始，imread等几个经典方法已经从scipy包的misc模块中移除。<br>那么，既然找到问题，我们就要寻求解决的方法，目前发现了以下三个：</p>\n<ol>\n<li>安装imageio库<a href=\"https://blog.csdn.net/sky_9900/article/details/98171702\">https://blog.csdn.net/sky_9900/article/details/98171702</a></li>\n<li>安装pillow库<a href=\"https://www.dovov.com/scipy-miscimread.html\">https://www.dovov.com/scipy-miscimread.html</a></li>\n<li><strong>使用1.2版本的scipy包，当我们遇到其他类似情况时，也可以寻求使用旧版本的包</strong></li>\n</ol>\n<h2 id=\"容易掉坑的点\"><a href=\"#容易掉坑的点\" class=\"headerlink\" title=\"容易掉坑的点\"></a>容易掉坑的点</h2><p>第一个，就是python的编辑器版本，<br>我下的时候没有注意，直接下的最新的版本3.9</p>\n<p>结果，当我直接在cmd中使用命令<code>pip install scipy==1.2.0</code>时，直接弹出一大堆报错：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ERROR: Command errored out with exit status 1:</span><br><span class=\"line\">... #（下面还有很多行，但与解决问题无关紧要）</span><br></pre></td></tr></table></figure>\n<p>接着，我尝试着从<a href=\"https://pypi.org/project/scipy/1.2.0/#files\">pypi.org</a>中下载旧版本的whl文件去进行安装，这一次给出的报错信息明显让我意识到了编辑器版本的不匹配：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">E:\\&gt;pip install scipy-1.2.0-cp37-cp37m-win_amd64.whl</span><br><span class=\"line\">WARNING: Ignoring invalid distribution -ip (e:\\python\\lib\\site-packages)</span><br><span class=\"line\">WARNING: Ignoring invalid distribution -ip (e:\\python\\lib\\site-packages)</span><br><span class=\"line\">ERROR: scipy-1.2.0-cp37-cp37m-win_amd64.whl is not a supported wheel on this platform.</span><br><span class=\"line\">WARNING: Ignoring invalid distribution -ip (e:\\python\\lib\\site-packages)</span><br><span class=\"line\">WARNING: Ignoring invalid distribution -ip (e:\\python\\lib\\site-packages)</span><br></pre></td></tr></table></figure>\n<p>（事实证明，pypi.org比很多包的官网有用，含有的包版本也更多，比如<a href=\"https://docs.scipy.org/doc/scipy/reference/release.html\">scipy官网</a>）</p>\n<p>从pypi.org上查找到的scipy1.2版本适用的编辑器最高版本为cp37，所幸我电脑上之前用conda安装了对应版本的python，不必经过配置，在vs code中点击左下角，切换python编辑器环境为3.7。<br>![Switch](/images/在vs code左下角切换环境.png)<br>然后我们启动代码，成功跑通！<br><img src=\"/images/成功的运行结果.png\"></p>\n<h2 id=\"附：几种python包指定版本的安装方式\"><a href=\"#附：几种python包指定版本的安装方式\" class=\"headerlink\" title=\"附：几种python包指定版本的安装方式\"></a>附：几种python包指定版本的安装方式</h2><ol>\n<li>pip 安装</li>\n<li>whl文件下载安装</li>\n<li>tar.gz文件下载安装</li>\n<li>conda下载安装<br>conda 下载安装whl文件<br>conda 下载安装tar.gz文件<h2 id=\"附：几个常用的python包下载网站\"><a href=\"#附：几个常用的python包下载网站\" class=\"headerlink\" title=\"附：几个常用的python包下载网站\"></a>附：几个常用的python包下载网站</h2></li>\n<li><a href=\"https://pypi.org/\">https://pypi.org/</a></li>\n<li><a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/\">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></li>\n</ol>\n","categories":[{"name":"Data analysis","slug":"Data-analysis","count":1,"path":"api/categories/Data-analysis.json"}],"tags":[{"name":"数据分析","slug":"数据分析","count":1,"path":"api/tags/数据分析.json"},{"name":"python","slug":"python","count":1,"path":"api/tags/python.json"},{"name":"debug","slug":"debug","count":1,"path":"api/tags/debug.json"},{"name":"package","slug":"package","count":1,"path":"api/tags/package.json"}]}