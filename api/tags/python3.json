{"name":"python3","slug":"python3","count":9,"postlist":[{"title":"PYQT5事件与信号","slug":"PYQT5事件与信号","date":"2021-08-30T21:07:47.378Z","updated":"2021-08-30T21:08:00.898Z","comments":true,"path":"api/articles/PYQT5事件与信号.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5事件与信号\"><a href=\"#PYQT5事件与信号\" class=\"headerlink\" title=\"PYQT5事件与信号\"></a>PYQT5事件与信号</h1><h2 id=\"事件\"><a href=\"#事件\" class=\"headerlink\" title=\"事件\"></a>事件</h2><p>根据<a href=\"https://maicss.gitbook.io/pyqt5-chinese-tutoral/shi-jian-he-xin-hao#shi-jian\">发布在gitbook网站上的中文博客</a><a href=\"%5B%E5%8F%91%E5%B8%83%E5%9C%A8gitbook%E7%BD%91%E7%AB%99%E4%B8%8A%E7%9A%84%E4%B8%AD%E6%96%87%E5%8D%9A%E5%AE%A2%5D(https://maicss.gitbook.io/pyqt5-chinese-tutoral/shi-jian-he-xin-hao#shi-jian)\">^1</a>讲解：</p>\n<blockquote>\n<p>signals and slots 被其他人翻译成信号和槽机制，(⊙o⊙)…我这里还是不翻译好了。<br>所有的应用都是事件驱动的。事件大部分都是由用户的行为产生的，当然也有其他的事件产生方式，比如网络的连接，窗口管理器或者定时器等。调用应用的exec_()方法时，应用会进入主循环，主循环会监听和分发事件。<br>在事件模型中，有三个角色：<br>事件源<br>事件<br>事件目标<br>事件源就是发生了状态改变的对象。事件是这个对象状态改变的内容。事件目标是事件想作用的目标。事件源绑定事件处理函数，然后作用于事件目标身上。<br>PyQt5处理事件方面有个signal and slot机制。Signals and slots用于对象间的通讯。事件触发的时候，发生一个signal，slot是用来被Python调用的。</p>\n</blockquote>\n<h2 id=\"信号-signal-与槽-slot\"><a href=\"#信号-signal-与槽-slot\" class=\"headerlink\" title=\"信号(signal)与槽(slot)\"></a>信号(signal)与槽(slot)</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子： 信号、槽</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we connect a signal</span></span><br><span class=\"line\"><span class=\"string\">of a QSlider to a slot of a QLCDNumber. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: January 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QLCDNumber, QSlider, </span><br><span class=\"line\">    QVBoxLayout, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        lcd = QLCDNumber(self)</span><br><span class=\"line\">        sld = QSlider(Qt.Horizontal, self)</span><br><span class=\"line\"></span><br><span class=\"line\">        vbox = QVBoxLayout()</span><br><span class=\"line\">        vbox.addWidget(lcd)</span><br><span class=\"line\">        vbox.addWidget(sld)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(vbox)</span><br><span class=\"line\"></span><br><span class=\"line\">        sld.valueChanged.connect(lcd.display)</span><br><span class=\"line\">        <span class=\"comment\">#把滑块的变化和数字的变化绑定在一起</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Signal and slot&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"重构事件处理器\"><a href=\"#重构事件处理器\" class=\"headerlink\" title=\"重构事件处理器\"></a>重构事件处理器</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：重构事件处理器（用自己的覆盖库自带的）</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we reimplement an </span></span><br><span class=\"line\"><span class=\"string\">event handler. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Event handler&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">keyPressEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        替换了事件处理器函数keyPressEvent()，按下esc键会退出程序</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> e.key() == Qt.Key_Escape:</span><br><span class=\"line\">            self.close()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"事件对象\"><a href=\"#事件对象\" class=\"headerlink\" title=\"事件对象\"></a>事件对象</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：事件对象</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we display the x and y </span></span><br><span class=\"line\"><span class=\"string\">coordinates of a mouse pointer in a label widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QApplication, QGridLayout, QLabel</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        grid = QGridLayout()</span><br><span class=\"line\">        grid.setSpacing(<span class=\"number\">10</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        x = <span class=\"number\">0</span></span><br><span class=\"line\">        y = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.text = <span class=\"string\">&quot;x: &#123;0&#125;,  y: &#123;1&#125;&quot;</span>.<span class=\"built_in\">format</span>(x, y)</span><br><span class=\"line\">        <span class=\"comment\">#在一个组件里显示鼠标的X和Y坐标。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.label = QLabel(<span class=\"string\">&#x27;self.text&#x27;</span>, self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QLabel(text[, parent=None[, f=Qt.WindowFlags()]])</span></span><br><span class=\"line\"><span class=\"string\">        QLabel用于显示文本或图像。没有提供用户交互功能</span></span><br><span class=\"line\"><span class=\"string\">        Constructs a label that displays the text.</span></span><br><span class=\"line\"><span class=\"string\">        The parent and widget flag f , arguments are passed to the QFrame constructor.</span></span><br><span class=\"line\"><span class=\"string\">        构建一个显示文本的标签，参数中父级和控件标志f会被传递给QFrame构造函数</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        grid.addWidget(self.label, <span class=\"number\">0</span>, <span class=\"number\">0</span>, Qt.AlignTop)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setMouseTracking(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        <span class=\"comment\">#事件追踪默认没有开启，当开启后才会追踪鼠标的点击事件</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(grid)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Event object&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mouseMoveEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        官方文档中的解释仅一句：Override this to handle mouse move events. 覆盖此操作以处理鼠标移动事件</span></span><br><span class=\"line\"><span class=\"string\">        这里的参数e为事件对象。里面有我们触发事件（鼠标移动）的事件对象。</span></span><br><span class=\"line\"><span class=\"string\">        下面的x()和y()方法可以得到鼠标在窗口中此刻的x和y坐标点，然后拼成字符串输出到QLabel组件里</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        x = e.x()</span><br><span class=\"line\">        y = e.y()</span><br><span class=\"line\"></span><br><span class=\"line\">        text = <span class=\"string\">&quot;x: &#123;0&#125;,  y: &#123;1&#125;&quot;</span>.<span class=\"built_in\">format</span>(x, y)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.label.setText(text)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        注意qtcy中以很多个setText函数，这里是：PySide2.QtWidgets.QLabel.setText(arg__1)</span></span><br><span class=\"line\"><span class=\"string\">        Parameters: arg__1 – str</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"事件发送\"><a href=\"#事件发送\" class=\"headerlink\" title=\"事件发送\"></a>事件发送</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：事件发送</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we determine the event sender</span></span><br><span class=\"line\"><span class=\"string\">object.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QPushButton, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        btn1 = QPushButton(<span class=\"string\">&quot;Button 1&quot;</span>, self)</span><br><span class=\"line\">        btn1.move(<span class=\"number\">30</span>, <span class=\"number\">50</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        btn2 = QPushButton(<span class=\"string\">&quot;Button 2&quot;</span>, self)</span><br><span class=\"line\">        btn2.move(<span class=\"number\">150</span>, <span class=\"number\">50</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        btn1.clicked.connect(self.buttonClicked)            </span><br><span class=\"line\">        btn2.clicked.connect(self.buttonClicked)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">290</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Event sender&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">buttonClicked</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        sender = self.sender()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">Returns a pointer to the object that sent the signal, if called in a slot activated by a signal; </span></span><br><span class=\"line\"><span class=\"string\">otherwise(否则) it returns None . The pointer is valid only during the execution(执行) of the slot that calls </span></span><br><span class=\"line\"><span class=\"string\">this function from this object’s thread context.The pointer returned by this function becomes invalid </span></span><br><span class=\"line\"><span class=\"string\">if the sender(发送人) is destroyed, or if the slot is disconnected from the sender’s signal.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">sender()在QT里的原型是QObject::sender(),也就是对象，实例化的对象可以发送信号，返回发送信号的对象的指针，返回类型为QObject *</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar().showMessage(sender.text() + <span class=\"string\">&#x27; was pressed&#x27;</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        Returns the object that emitted the signal. 该函数没有参数，返回发送信号的那一个对象</span></span><br><span class=\"line\"><span class=\"string\">        用调用sender()方法的方式决定了事件源。状态栏显示了被点击的按钮.</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"信号发送\"><a href=\"#信号发送\" class=\"headerlink\" title=\"信号发送\"></a>信号发送</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：信号发送</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we show how to </span></span><br><span class=\"line\"><span class=\"string\">emit（发射，发送） a custom signal. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> pyqtSignal, QObject</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Communicate</span>(<span class=\"params\">QObject</span>):</span></span><br><span class=\"line\">    <span class=\"comment\">#创建了一个叫closeApp的信号，这个信号会在鼠标按下的时候触发，事件与QMainWindow绑定。</span></span><br><span class=\"line\">    closeApp = pyqtSignal() </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    class PySide2.QtWidgets.QMainWindow([parent=None[, flags=Qt.WindowFlags()]])¶</span></span><br><span class=\"line\"><span class=\"string\">    param parent</span></span><br><span class=\"line\"><span class=\"string\">    PySide2.QtWidgets.QWidget</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    param flags</span></span><br><span class=\"line\"><span class=\"string\">    WindowFlags</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    Constructs a QMainWindow with the given parent and the specified widget flags .</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    QMainWindow sets the Window flag itself, and will hence always be created as a top-level widget.</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\">        self.c = Communicate()  </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        Communicate类创建了一个pyqtSignal()属性的信号。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.c.closeApp.connect(self.close)     </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtGui.QWindow.close()¶</span></span><br><span class=\"line\"><span class=\"string\">        Return type</span></span><br><span class=\"line\"><span class=\"string\">        bool</span></span><br><span class=\"line\"><span class=\"string\">        功能只有一个Close the window.</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span>  </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">290</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Emit signal&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mousePressEvent</span>(<span class=\"params\">self, event</span>):</span></span><br><span class=\"line\">        event.gg = <span class=\"string\">&#x27;gg&#x27;</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;event: &quot;</span>,event.__dict__) <span class=\"comment\">#打印对象的全部属性</span></span><br><span class=\"line\">        self.c.closeApp.emit()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h2>","text":"PYQT5事件与信号事件根据发布在gitbook网站上的中文博客^1讲解：signals and slots 被其他人翻译成信号和槽机制，(⊙o⊙)…我这里还是不翻译好了。<br>所有的应用都是事件驱动的。事件大部分都是由用户的行为产生的，当然也有其他的事件产生方式，比如网络的连","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5对话框","slug":"PYQT5对话框","date":"2021-08-30T21:14:50.018Z","updated":"2021-08-30T21:14:50.022Z","comments":true,"path":"api/articles/PYQT5对话框.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5对话框\"><a href=\"#PYQT5对话框\" class=\"headerlink\" title=\"PYQT5对话框\"></a>PYQT5对话框</h1><h2 id=\"输入文字\"><a href=\"#输入文字\" class=\"headerlink\" title=\"输入文字\"></a>输入文字</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：输入文字</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we receive data from</span></span><br><span class=\"line\"><span class=\"string\">a QInputDialog dialog. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Aauthor: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QPushButton, QLineEdit, </span><br><span class=\"line\">    QInputDialog, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.btn = QPushButton(<span class=\"string\">&#x27;Dialog&#x27;</span>, self)</span><br><span class=\"line\">        self.btn.move(<span class=\"number\">20</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\">        self.btn.clicked.connect(self.showDialog)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.le = QLineEdit(self)</span><br><span class=\"line\">        self.le.move(<span class=\"number\">130</span>, <span class=\"number\">22</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">290</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Input dialog&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showDialog</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;the type of return is : &quot;</span>,<span class=\"built_in\">type</span>(QInputDialog.getText(self, <span class=\"string\">&#x27;Input Dialog&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;Enter your name:&#x27;</span>)))</span><br><span class=\"line\">        text, ok = QInputDialog.getText(self, <span class=\"string\">&#x27;Input Dialog&#x27;</span>, </span><br><span class=\"line\">            <span class=\"string\">&#x27;Enter your name:&#x27;</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        显示一个输入框的代码。第一个参数是输入框的标题，第二个参数是输入框的占位符。</span></span><br><span class=\"line\"><span class=\"string\">        对话框返回输入内容和一个布尔值，如果点击的是OK按钮，布尔值就返回True</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        python的解构语法（逗号在左，与封装语法相反）</span></span><br><span class=\"line\"><span class=\"string\">        把线性结构(列表，元组，字符串，bytes，baitarry)的元素解开，并顺序的赋给其他变量；</span></span><br><span class=\"line\"><span class=\"string\">        左边接纳的变量数要和右边解开的元素个数一致；</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        static PySide2.QtWidgets.QInputDialog.getText(parent, title, label[, echo=QLineEdit.Normal[, text=&quot;&quot;[, flags=Qt.WindowFlags()[, inputMethodHints=Qt.ImhNone]]]])¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        parent – PySide2.QtWidgets.QWidget</span></span><br><span class=\"line\"><span class=\"string\">        title – str</span></span><br><span class=\"line\"><span class=\"string\">        label – str</span></span><br><span class=\"line\"><span class=\"string\">        echo – EchoMode</span></span><br><span class=\"line\"><span class=\"string\">        text – str</span></span><br><span class=\"line\"><span class=\"string\">        flags – WindowFlags</span></span><br><span class=\"line\"><span class=\"string\">        inputMethodHints – InputMethodHints</span></span><br><span class=\"line\"><span class=\"string\">        Return type：(str,bool)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">(QString, bool ok) QInputDialog.getText (QWidget parent, QString title, QString label, QLineEdit.EchoMode mode = QLineEdit.Normal, QString text = &#x27;&#x27;, Qt.WindowFlags flags = 0)</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ok:</span><br><span class=\"line\">            self.le.setText(<span class=\"built_in\">str</span>(text))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"选取颜色\"><a href=\"#选取颜色\" class=\"headerlink\" title=\"选取颜色\"></a>选取颜色</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：选择颜色</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we select a color value</span></span><br><span class=\"line\"><span class=\"string\">from the QColorDialog and change the background</span></span><br><span class=\"line\"><span class=\"string\">color of a QFrame widget. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QPushButton, QFrame, </span><br><span class=\"line\">    QColorDialog, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QColor</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        col = QColor(<span class=\"number\">222</span>, <span class=\"number\">222</span>, <span class=\"number\">0</span>) </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        这里通过rgb三项来设置默认的背景颜色为黄色，下面可以使用QColorDialog改变背景颜色</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.btn = QPushButton(<span class=\"string\">&#x27;Dialog&#x27;</span>, self)</span><br><span class=\"line\">        self.btn.move(<span class=\"number\">20</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.btn.clicked.connect(self.showDialog)   <span class=\"comment\">#点击事件绑定函数</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.frm = QFrame(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        容器中的Frame为一个矩形的框架对象，对应类QFrame，</span></span><br><span class=\"line\"><span class=\"string\">        QFrame类是PyQt中带框架部件的所有类的基类，如菜单、进度条、Label标签</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.frm.setStyleSheet(<span class=\"string\">&quot;QWidget &#123; background-color: %s &#125;&quot;</span> </span><br><span class=\"line\">            % col.name())</span><br><span class=\"line\">        self.frm.setGeometry(<span class=\"number\">130</span>, <span class=\"number\">22</span>, <span class=\"number\">100</span>, <span class=\"number\">100</span>)            </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">180</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Color dialog&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showDialog</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        col = QColorDialog.getColor()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        弹出一个QColorDialog对话框</span></span><br><span class=\"line\"><span class=\"string\">        Pops up a modal color dialog with the given window title (or “Select Color” if none is specified), lets the user choose a color, and returns that color. The color is initially set to initial . The dialog is a child of parent . </span></span><br><span class=\"line\"><span class=\"string\">        It returns an invalid (see isValid() ) color if the user cancels the dialog.</span></span><br><span class=\"line\"><span class=\"string\">        The options argument allows you to customize the dialog.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        调出一个调色板窗口，用户选定颜色后，该函数会用name ()方法返回颜色值</span></span><br><span class=\"line\"><span class=\"string\">        Return type: PySide2.QtGui.QColor  返回一个class类型</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> <span class=\"built_in\">dir</span>(col):</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;--  &#x27;</span>,item,<span class=\"string\">&#x27;  --&#x27;</span>)</span><br><span class=\"line\">            <span class=\"comment\">#打印该class中的属性、方法名称</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> col.isValid():</span><br><span class=\"line\">            <span class=\"comment\">#PySide2.QtGui.QColor.isValid()¶  Returns true if the color is valid; otherwise returns false .</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&quot;RGB: &quot;</span>,col.name())</span><br><span class=\"line\">            <span class=\"comment\">#Returns the name of the color in the format “#RRGGBB”; i.e. a “#” character followed by three two-digit hexadecimal numbers.</span></span><br><span class=\"line\"></span><br><span class=\"line\">            self.frm.setStyleSheet(<span class=\"string\">&quot;QWidget &#123; background-color: %s &#125;&quot;</span></span><br><span class=\"line\">                % col.name())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"选择字体\"><a href=\"#选择字体\" class=\"headerlink\" title=\"选择字体\"></a>选择字体</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：选择字体</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we select a font name</span></span><br><span class=\"line\"><span class=\"string\">and change the font of a label. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QVBoxLayout, QPushButton, </span><br><span class=\"line\">    QSizePolicy, QLabel, QFontDialog, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        vbox = QVBoxLayout()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QHBoxLayout和QVBoxLayout类继承自QBoxLayout，采用QBOXLayout类可以在水平和垂直方向上排列控件，</span></span><br><span class=\"line\"><span class=\"string\">        本案例采用QHBoxLayout类，按照从左到右的顺序来添加控件，</span></span><br><span class=\"line\"><span class=\"string\">        详见博客https://blog.csdn.net/jia666666/article/details/81699900</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        btn = QPushButton(<span class=\"string\">&#x27;Dialog&#x27;</span>, self)</span><br><span class=\"line\">        btn.setSizePolicy(QSizePolicy.Fixed,</span><br><span class=\"line\">            QSizePolicy.Fixed)</span><br><span class=\"line\"></span><br><span class=\"line\">        btn.move(<span class=\"number\">20</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        vbox.addWidget(btn)</span><br><span class=\"line\"></span><br><span class=\"line\">        btn.clicked.connect(self.showDialog)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl = QLabel(<span class=\"string\">&#x27;Knowledge only matters&#x27;</span>, self) </span><br><span class=\"line\">        self.lbl.move(<span class=\"number\">130</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        vbox.addWidget(self.lbl)</span><br><span class=\"line\">        self.setLayout(vbox)          </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">180</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Font dialog&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showDialog</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        font, ok = QFontDialog.getFont()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建了一个有一个按钮和一个标签的QFontDialog的对话框，我们可以使用这个功能修改字体样式.</span></span><br><span class=\"line\"><span class=\"string\">        getFont()方法返回一个字体名称和状态信息。状态信息有OK和其他两种。</span></span><br><span class=\"line\"><span class=\"string\">        static PySide2.QtWidgets.QFontDialog.getFont([parent=None])¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        parent – PySide2.QtWidgets.QWidget</span></span><br><span class=\"line\"><span class=\"string\">        Return type</span></span><br><span class=\"line\"><span class=\"string\">        PyTuple</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ok:</span><br><span class=\"line\">            <span class=\"comment\">#如果点击OK，标签的字体就会随之更改</span></span><br><span class=\"line\">            self.lbl.setFont(font)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"选择文件\"><a href=\"#选择文件\" class=\"headerlink\" title=\"选择文件\"></a>选择文件</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：文件保存</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we select a file with a</span></span><br><span class=\"line\"><span class=\"string\">QFileDialog and display its contents</span></span><br><span class=\"line\"><span class=\"string\">in a QTextEdit.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QMainWindow, QTextEdit, </span><br><span class=\"line\">    QAction, QFileDialog, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    设置了一个文本编辑框，文本编辑框是基于QMainWindow组件的。</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    本例中有一个菜单栏，一个置中的文本编辑框，一个状态栏。点击菜单栏选项会弹出一个QtGui.QFileDialog对话框，</span></span><br><span class=\"line\"><span class=\"string\">    在这个对话框里，你能选择文件，然后文件的内容就会显示在文本编辑框里。</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.textEdit = QTextEdit()</span><br><span class=\"line\">        self.setCentralWidget(self.textEdit)</span><br><span class=\"line\">        self.statusBar()</span><br><span class=\"line\"></span><br><span class=\"line\">        openFile = QAction(QIcon(<span class=\"string\">&#x27;open.png&#x27;</span>), <span class=\"string\">&#x27;Open&#x27;</span>, self)</span><br><span class=\"line\">        openFile.setShortcut(<span class=\"string\">&#x27;Ctrl+O&#x27;</span>)</span><br><span class=\"line\">        openFile.setStatusTip(<span class=\"string\">&#x27;Open new File&#x27;</span>)</span><br><span class=\"line\">        openFile.triggered.connect(self.showDialog)</span><br><span class=\"line\"></span><br><span class=\"line\">        menubar = self.menuBar()</span><br><span class=\"line\">        fileMenu = menubar.addMenu(<span class=\"string\">&#x27;&amp;File&#x27;</span>)</span><br><span class=\"line\">        fileMenu.addAction(openFile)       </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;File dialog&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showDialog</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        fname = QFileDialog.getOpenFileName(self, <span class=\"string\">&#x27;Open file&#x27;</span>, <span class=\"string\">&#x27;/home&#x27;</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        弹出QFileDialog窗口。getOpenFileName()方法的第一个参数是说明文字，</span></span><br><span class=\"line\"><span class=\"string\">        第二个参数是默认打开的文件夹路径。默认情况下显示所有类型的文件。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> fname[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            f = <span class=\"built_in\">open</span>(fname[<span class=\"number\">0</span>], <span class=\"string\">&#x27;r&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">with</span> f:</span><br><span class=\"line\">                data = f.read()</span><br><span class=\"line\">                self.textEdit.setText(data)    </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        读取选中的文件，并显示在文本编辑框内</span></span><br><span class=\"line\"><span class=\"string\">        注意只能读取二进制文件，如txt，html等</span></span><br><span class=\"line\"><span class=\"string\">        （但是打开HTML文件时，是渲染后的结果）</span></span><br><span class=\"line\"><span class=\"string\">        打开pdf,png格式图片时候，会报错如下：</span></span><br><span class=\"line\"><span class=\"string\">        UnicodeDecodeError: &#x27;gbk&#x27; codec can&#x27;t decode byte 0x89 in position 24: illegal multibyte sequence</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span>    </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n","text":"PYQT5对话框输入文字1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5布局管理","slug":"PYQT5布局管理","date":"2021-08-30T20:58:59.264Z","updated":"2021-08-30T20:58:59.264Z","comments":true,"path":"api/articles/PYQT5布局管理.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5布局管理\"><a href=\"#PYQT5布局管理\" class=\"headerlink\" title=\"PYQT5布局管理\"></a>PYQT5布局管理</h1><h2 id=\"绝对定位\"><a href=\"#绝对定位\" class=\"headerlink\" title=\"绝对定位\"></a>绝对定位</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：绝对定位</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows three labels on a window</span></span><br><span class=\"line\"><span class=\"string\">using absolute positioning. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QLabel, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QLabel小部件提供文本或图像显示，没有交互功能！</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        lbl1 = QLabel(text=<span class=\"string\">&#x27;Zetcode&#x27;</span>, parent=self)</span><br><span class=\"line\">        lbl1.move(<span class=\"number\">15</span>, <span class=\"number\">10</span>)       <span class=\"comment\">#使用move方法定位元素(也就是这个label部件)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        lbl2 = QLabel(<span class=\"string\">&#x27;tutorials&#x27;</span>, self)</span><br><span class=\"line\">        lbl2.move(<span class=\"number\">35</span>, <span class=\"number\">40</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        lbl3 = QLabel(<span class=\"string\">&#x27;for programmers&#x27;</span>, self)</span><br><span class=\"line\">        lbl3.move(<span class=\"number\">55</span>, <span class=\"number\">70</span>)        </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">400</span>, <span class=\"number\">400</span>, <span class=\"number\">500</span>, <span class=\"number\">250</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        setGeometry()有两个作用：</span></span><br><span class=\"line\"><span class=\"string\">        把窗口放到屏幕上；设置窗口大小。</span></span><br><span class=\"line\"><span class=\"string\">        四个参数分别代表屏幕坐标的x、y和窗口大小的宽、高。</span></span><br><span class=\"line\"><span class=\"string\">        这个方法是resize()和move()的合体。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Absolute&#x27;</span>) <span class=\"comment\">#为窗口添加了一个在标题栏展示的标题   </span></span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"盒布局\"><a href=\"#盒布局\" class=\"headerlink\" title=\"盒布局\"></a>盒布局</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：盒布局</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we position two push</span></span><br><span class=\"line\"><span class=\"string\">buttons in the bottom-right corner </span></span><br><span class=\"line\"><span class=\"string\">of the window. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QPushButton, </span><br><span class=\"line\">    QHBoxLayout, QVBoxLayout, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        okButton = QPushButton(<span class=\"string\">&quot;OK&quot;</span>)</span><br><span class=\"line\">        <span class=\"comment\">#创建一个继承自QPushButton的按钮(自然就是一个控件)。第一个参数text参数是想要显示的按钮名称，第二个参数parent是按钮的父级组件</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        cancelButton = QPushButton(<span class=\"string\">&quot;Cancel&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        下面十行代码创建一个水平布局，并增加弹性空间和两个按钮。</span></span><br><span class=\"line\"><span class=\"string\">        addStretch函数的作用就是平分布局，它所带的参数就是所占的比例，这里为1占据了全部</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        hbox = QHBoxLayout()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QHBoxLayout和QVBoxLayout类继承自QBoxLayout，采用QBOXLayout类可以在水平和垂直方向上排列控件，</span></span><br><span class=\"line\"><span class=\"string\">        本案例采用QHBoxLayout类，按照从左到右的顺序来添加控件，</span></span><br><span class=\"line\"><span class=\"string\">        详见博客https://blog.csdn.net/jia666666/article/details/81699900</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        hbox.addStretch(<span class=\"number\">1</span>)</span><br><span class=\"line\">        hbox.addWidget(okButton)    </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QGridLayout.addWidget(arg__1, row, column, rowSpan, columnSpan[, alignment=Qt.Alignment()])</span></span><br><span class=\"line\"><span class=\"string\">        row:行位置</span></span><br><span class=\"line\"><span class=\"string\">        column：列位置</span></span><br><span class=\"line\"><span class=\"string\">        rowSpan：跨行数、行跨距（一般用于QTextEdit()文本输入组件）</span></span><br><span class=\"line\"><span class=\"string\">        columnSpan：列跨距</span></span><br><span class=\"line\"><span class=\"string\">        alignment；对齐方式</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        if rowSpan and/or columnSpan is -1, then the widget will extend to the bottom and/or right edge, respectively.</span></span><br><span class=\"line\"><span class=\"string\">        如果这两项设置为-1，该小组件会分别沿两个方向延伸到底部/右边缘</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        这里增加了一个按钮</span></span><br><span class=\"line\"><span class=\"string\">        addwidget()方法用于向布局中添加控件（这里是按钮okButton）</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        hbox.addWidget(cancelButton)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        vbox = QVBoxLayout()</span><br><span class=\"line\">        vbox.addStretch(<span class=\"number\">1</span>)</span><br><span class=\"line\">        vbox.addLayout(hbox)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        为了布局需要，我们把这个水平布局放到了一个垂直布局盒里面。弹性元素会把水平布局挤到窗口的下边。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(vbox)    </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Buttons&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"栅格布局\"><a href=\"#栅格布局\" class=\"headerlink\" title=\"栅格布局\"></a>栅格布局</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：栅格化布局</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we create a skeleton</span></span><br><span class=\"line\"><span class=\"string\">of a calculator using a QGridLayout.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">last edited: January 2015</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QGridLayout, </span><br><span class=\"line\">    QPushButton, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        grid = QGridLayout(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QGridLayout（网格布局）是将窗口分割成行和列的网格来进行排列，</span></span><br><span class=\"line\"><span class=\"string\">        通常可以使用函数addWidget（）将被管理的控件（Widget）添加到窗口中，或者使用addLayout（）函数将布局（layout）添加到窗口中，</span></span><br><span class=\"line\"><span class=\"string\">        也可以通过addWIdget（）函数对所添加的控件设置行数与列数的跨越，最后实现网格占据多个窗格。</span></span><br><span class=\"line\"><span class=\"string\">        QGridLayout类中有以下三个常用方法：</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        addWidget(QWidget Widget,int row,int col,int alignment=0)  </span></span><br><span class=\"line\"><span class=\"string\">        给网格布局添加部件，设置指定的行和列，起始位置的默认值为（0,0）</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        addWidget(QWidget widget,int fromRow,int fromColulmn,int rowSpan,int columnSpan,Qt.Alignment alignment=0)</span></span><br><span class=\"line\"><span class=\"string\">        setSpacing(int spacing)</span></span><br><span class=\"line\"><span class=\"string\">        所添加的的控件跨越很多行或者列的时候，使用这个函数</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        setSpacing(int spacing)</span></span><br><span class=\"line\"><span class=\"string\">        设置软件在水平和垂直方向的间隔</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        详见https://blog.csdn.net/jia666666/article/details/81701176</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(grid)</span><br><span class=\"line\">        <span class=\"comment\">#创建一个QGridLayout实例，并把它放到程序窗口里</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        有些控件或者布局有addLayout和addWidget的函数,但是有些就没有,</span></span><br><span class=\"line\"><span class=\"string\">        比如QWidget这个控件就没有addLayout和addWidget这个函数,取而代之的是一个setLayout函数,</span></span><br><span class=\"line\"><span class=\"string\">        在addLayout函数中,我们可以多次使用addLayout来依次添加布局,addWidget亦是如此,</span></span><br><span class=\"line\"><span class=\"string\">        但是setlayout只能set一次</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        官方文档中对此的解释：</span></span><br><span class=\"line\"><span class=\"string\">        Sets the layout manager for this widget to layout .</span></span><br><span class=\"line\"><span class=\"string\">        If there already is a layout manager installed on this widget, QWidget won’t let you install another. You must first delete the existing layout manager (returned by layout() ) before you can call with the new layout.</span></span><br><span class=\"line\"><span class=\"string\">        If layout is the layout manager on a different widget, will reparent the layout and make it the layout manager for this widget.</span></span><br><span class=\"line\"><span class=\"string\">        翻译过来就是：</span></span><br><span class=\"line\"><span class=\"string\">        为此小组件设置布局管理器以布局。</span></span><br><span class=\"line\"><span class=\"string\">        若您已经在此窗口小部件上安装了一个布局管理器，则QWidget这个控件不会允许您安装另一个布局管理器，除非删除现有的布局管理器（在使用新布局调用之前删除PlayOut（））。</span></span><br><span class=\"line\"><span class=\"string\">        如果布局是在不同的另一个窗口小部件上的布局管理器，那么将重新定义布局并使其成为此小部件的布局管理器。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        names = [<span class=\"string\">&#x27;Cls&#x27;</span>, <span class=\"string\">&#x27;Bck&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"string\">&#x27;Close&#x27;</span>,</span><br><span class=\"line\">                 <span class=\"string\">&#x27;7&#x27;</span>, <span class=\"string\">&#x27;8&#x27;</span>, <span class=\"string\">&#x27;9&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">                <span class=\"string\">&#x27;4&#x27;</span>, <span class=\"string\">&#x27;5&#x27;</span>, <span class=\"string\">&#x27;6&#x27;</span>, <span class=\"string\">&#x27;*&#x27;</span>,</span><br><span class=\"line\">                 <span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;-&#x27;</span>,</span><br><span class=\"line\">                <span class=\"string\">&#x27;0&#x27;</span>, <span class=\"string\">&#x27;.&#x27;</span>, <span class=\"string\">&#x27;=&#x27;</span>, <span class=\"string\">&#x27;+&#x27;</span>]</span><br><span class=\"line\">        <span class=\"comment\">#定义一个列表，存储将要使用的按钮的名称</span></span><br><span class=\"line\"></span><br><span class=\"line\">        positions = [(i,j) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">5</span>) <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">4</span>)]</span><br><span class=\"line\">        <span class=\"comment\">#生成位置坐标，五行(i)四列(j)</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> position, name <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(positions, names):</span><br><span class=\"line\">            <span class=\"comment\">#依次创建按钮位置列表</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> name == <span class=\"string\">&#x27;&#x27;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"comment\">#为空的话，原本控件的位置会空出来，不会被后面的挤占</span></span><br><span class=\"line\"></span><br><span class=\"line\">            button = QPushButton(name)</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            www.zetcode.com的解释</span></span><br><span class=\"line\"><span class=\"string\">            QPushButton is a widget which executes an action when a user clicks on it. A QPushButton can display text and icons.</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            grid.addWidget(button, *position)</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            QGridLayout::addWidget ( QWidget * widget, int row, int column, Qt::Alignment alignment = 0 )</span></span><br><span class=\"line\"><span class=\"string\">            python中，*参数收集所有未匹配的位置参数组成一个tuple对象（元组），局部变量args指向此tuple对象</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        self.move(<span class=\"number\">300</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Calculator&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"制作提交反馈信息的布局\"><a href=\"#制作提交反馈信息的布局\" class=\"headerlink\" title=\"制作提交反馈信息的布局\"></a>制作提交反馈信息的布局</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：能反馈信息的布局</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we create a more </span></span><br><span class=\"line\"><span class=\"string\">complicated window layout using</span></span><br><span class=\"line\"><span class=\"string\">the QGridLayout manager. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QLabel, QLineEdit, </span><br><span class=\"line\">    QTextEdit, QGridLayout, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        title = QLabel(<span class=\"string\">&#x27;Title&#x27;</span>)</span><br><span class=\"line\">        author = QLabel(<span class=\"string\">&#x27;Author&#x27;</span>)</span><br><span class=\"line\">        review = QLabel(<span class=\"string\">&#x27;Review&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        titleEdit = QLineEdit()</span><br><span class=\"line\">        authorEdit = QLineEdit()</span><br><span class=\"line\">        reviewEdit = QTextEdit()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        用QGridLayout模块制作两个行编辑窗口和一个文本编辑窗口</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        grid = QGridLayout()</span><br><span class=\"line\">        <span class=\"comment\">#一个QGridLayout类</span></span><br><span class=\"line\">        <span class=\"comment\">#QGridLayout(parent)，在构建新网格布局时必须将其插入父布局，没有则为self。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        grid.setSpacing(<span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"comment\">#各个控件之间的间距（包括上下左右）设置为10px</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        在组件的排列中，行列均从0开始，</span></span><br><span class=\"line\"><span class=\"string\">        行缺失则后面的填上位置，所以从0或1开始无所谓，</span></span><br><span class=\"line\"><span class=\"string\">        但网格化布局中，列必须从0而不是1开始，也不能缺失</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        grid.addWidget(title, <span class=\"number\">0</span>, <span class=\"number\">0</span>)     <span class=\"comment\">#将该组件添加至第0行第0列</span></span><br><span class=\"line\">        grid.addWidget(titleEdit, <span class=\"number\">0</span>, <span class=\"number\">1</span>) <span class=\"comment\">#将该组件添加至第0行第1列</span></span><br><span class=\"line\"></span><br><span class=\"line\">        grid.addWidget(author, <span class=\"number\">1</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">        grid.addWidget(authorEdit, <span class=\"number\">1</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        grid.addWidget(review, <span class=\"number\">2</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">        grid.addWidget(reviewEdit, <span class=\"number\">2</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QGridLayout.addWidget(arg__1, row, column, rowSpan, columnSpan[, alignment=Qt.Alignment()])</span></span><br><span class=\"line\"><span class=\"string\">        row:行位置</span></span><br><span class=\"line\"><span class=\"string\">        column：列位置</span></span><br><span class=\"line\"><span class=\"string\">        rowSpan：跨行数、行跨距（一般用于QTextEdit()文本输入组件）</span></span><br><span class=\"line\"><span class=\"string\">        columnSpan：列跨距</span></span><br><span class=\"line\"><span class=\"string\">        alignment；对齐方式</span></span><br><span class=\"line\"><span class=\"string\">        这里文本编辑窗口跨5行，仍然只占一列</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(grid) </span><br><span class=\"line\">        <span class=\"comment\">#设置布局管理器，一个QWidget控件中只能设置一个</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Review&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n","text":"PYQT5布局管理绝对定位1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<b","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5绘图","slug":"PYQT5绘图","date":"2021-08-30T21:32:57.313Z","updated":"2021-08-30T21:33:03.986Z","comments":true,"path":"api/articles/PYQT5绘图.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5绘图\"><a href=\"#PYQT5绘图\" class=\"headerlink\" title=\"PYQT5绘图\"></a>PYQT5绘图</h1><h2 id=\"绘图\"><a href=\"#绘图\" class=\"headerlink\" title=\"绘图\"></a>绘图</h2><h3 id=\"文本涂鸦\"><a href=\"#文本涂鸦\" class=\"headerlink\" title=\"文本涂鸦\"></a>文本涂鸦</h3><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：文本涂鸦</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we draw text in Russian Cylliric.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QPainter, QColor, QFont</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.text = <span class=\"string\">&quot;Лев Николаевич Толстой\\nАнна Каренина&quot;</span></span><br><span class=\"line\">        <span class=\"comment\">#写了一些文本上下居中对齐的俄罗斯Cylliric语言的文字</span></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">500</span>, <span class=\"number\">500</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Drawing text&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">paintEvent</span>(<span class=\"params\">self, event</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#在绘画事件内完成绘画动作</span></span><br><span class=\"line\">        qp = QPainter()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QPainter是低级的绘画类。所有的绘画动作都在这个类的begin()和end()方法之间完成，绘画动作都封装在drawText()内部了。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        qp.begin(self)</span><br><span class=\"line\">        self.drawText(event, qp)</span><br><span class=\"line\">        qp.end()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">drawText</span>(<span class=\"params\">self, event, qp</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        qp.setPen(QColor(<span class=\"number\">168</span>, <span class=\"number\">34</span>, <span class=\"number\">3</span>))</span><br><span class=\"line\">        qp.setFont(QFont(<span class=\"string\">&#x27;Decorative&#x27;</span>, <span class=\"number\">10</span>))</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        为文字绘画定义了笔和字体。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        qp.drawText(event.rect(), Qt.AlignCenter, self.text)        </span><br><span class=\"line\">        <span class=\"comment\">#drawText()方法在窗口里绘制文本，rect()方法返回要更新的矩形区域</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>","text":"PYQT5绘图绘图文本涂鸦1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<b","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5拖拽","slug":"PYQT5拖拽","date":"2021-08-30T21:31:39.560Z","updated":"2021-08-30T21:31:57.703Z","comments":true,"path":"api/articles/PYQT5拖拽.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5拖拽\"><a href=\"#PYQT5拖拽\" class=\"headerlink\" title=\"PYQT5拖拽\"></a>PYQT5拖拽</h1><h2 id=\"简单的拖放\"><a href=\"#简单的拖放\" class=\"headerlink\" title=\"简单的拖放\"></a>简单的拖放</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：拖放</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This is a simple drag and</span></span><br><span class=\"line\"><span class=\"string\">drop example. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com</span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QPushButton, QWidget, </span><br><span class=\"line\">    QLineEdit, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Button</span>(<span class=\"params\">QPushButton</span>):</span></span><br><span class=\"line\">    <span class=\"comment\">#用QPushButton上构造一个按钮实例</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self, title, parent</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__(title, parent)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setAcceptDrops(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        激活组件的拖拽事件</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dragEnterEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        重构了dragEnterEvent()方法。设定好接受拖拽的数据类型（plain text）</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> e.mimeData().hasFormat(<span class=\"string\">&#x27;text/plain&#x27;</span>):</span><br><span class=\"line\">            e.accept()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            e.ignore() </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dropEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#重构dropEvent()方法，更改按钮接受鼠标的释放事件的默认行为。</span></span><br><span class=\"line\">        self.setText(e.mimeData().text()) </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        edit = QLineEdit(<span class=\"string\">&#x27;line-edit&#x27;</span>, self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QLineEdit默认支持拖拽操作，所以我们只要调用setDragEnabled()方法使用就行了。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        edit.setDragEnabled(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        edit.move(<span class=\"number\">30</span>, <span class=\"number\">65</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        button = Button(<span class=\"string\">&quot;Button&quot;</span>, self)</span><br><span class=\"line\">        button.move(<span class=\"number\">190</span>, <span class=\"number\">65</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Simple drag and drop&#x27;</span>)</span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    ex.show()</span><br><span class=\"line\">    app.exec_()</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"拖放按钮组件\"><a href=\"#拖放按钮组件\" class=\"headerlink\" title=\"拖放按钮组件\"></a>拖放按钮组件</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：拖放按钮组件  注意是右键拖拽！！！</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this program, we can press on a button with a left mouse</span></span><br><span class=\"line\"><span class=\"string\">click or drag and drop the button with  the right mouse click. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com</span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">例子中，窗口上有一个QPushButton组件。</span></span><br><span class=\"line\"><span class=\"string\">左键点击按钮，控制台就会输出press。右键可以点击然后拖动按钮。</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QPushButton, QWidget, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt, QMimeData</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QDrag</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Button</span>(<span class=\"params\">QPushButton</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self, title, parent</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__(title, parent)</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    从QPushButton继承一个Button类，然后重构QPushButton的两个方法: mouseMoveEvent()和mousePressEvent().</span></span><br><span class=\"line\"><span class=\"string\">    mouseMoveEvent()是拖拽开始的事件。</span></span><br><span class=\"line\"><span class=\"string\">    mousePressEvent()是鼠标给予压力的事件，分鼠标左键、右键、滚轮、前进键、后退键（不包含dpi键）</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mouseMoveEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#这里只劫持按钮的右键事件（Qt.RightButton），左键的操作还是默认行为</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> e.buttons() != Qt.RightButton:</span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">        mimeData = QMimeData()</span><br><span class=\"line\"></span><br><span class=\"line\">        drag = QDrag(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个QDrag对象，用来传输MIME-based数据。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        drag.setMimeData(mimeData)</span><br><span class=\"line\">        drag.setHotSpot(e.pos() - self.rect().topLeft())</span><br><span class=\"line\"></span><br><span class=\"line\">        dropAction = drag.exec_(Qt.MoveAction)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">mousePressEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().mousePressEvent(e)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> e.button() == Qt.LeftButton:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;press&#x27;</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"built_in\">print</span>(e.button())</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        左键点击按钮，会在控制台输出“press”。注意，我们在父级上也调用了mousePressEvent()方法，</span></span><br><span class=\"line\"><span class=\"string\">        不然的话，我们是看不到按钮按下的效果的。</span></span><br><span class=\"line\"><span class=\"string\">        mousePressEvent()是鼠标给予压力的事件，各个键有对应的int值（e.button()）</span></span><br><span class=\"line\"><span class=\"string\">        分鼠标左键（Qt.leftButton = 1）、右键（2）、滚轮（4）、前进键（16）、后退键（8） （不包含dpi键）</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setAcceptDrops(<span class=\"literal\">True</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.button = Button(<span class=\"string\">&#x27;Button&#x27;</span>, self)</span><br><span class=\"line\">        self.button.move(<span class=\"number\">100</span>, <span class=\"number\">65</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Click or Move&#x27;</span>)</span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">280</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dragEnterEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        e.accept()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dropEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        position = e.pos()</span><br><span class=\"line\">        self.button.move(position)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        在dropEvent()方法里，我们定义了按钮按下后和释放后的行为，获得鼠标移动的位置，然后把按钮放到这个地方</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        e.setDropAction(Qt.MoveAction)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        指定放下的动作类型为moveAction</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    ex.show()</span><br><span class=\"line\">    app.exec_()</span><br></pre></td></tr></table></figure>\n\n","text":"PYQT5拖拽简单的拖放1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5介绍","slug":"PYQT5介绍","date":"2021-08-29T14:29:42.423Z","updated":"2021-08-29T14:29:42.423Z","comments":true,"path":"api/articles/PYQT5介绍.json","excerpt":"","keywords":null,"cover":null,"content":"<h2 id=\"PYQT5\"><a href=\"#PYQT5\" class=\"headerlink\" title=\"PYQT5\"></a>PYQT5</h2><h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p>PyQt5 是Digia的一套Qt5应用框架与python的结合，同时支持2.x和3.x。<br>Qt库由Riverbank Computing开发，是最强大的GUI库之一 ，<br>官方网站：<a href=\"https://riverbankcomputing.com/\">https://riverbankcomputing.com/</a><br>PyQt5是由一系列Python模块组成。超过620个类，6000函数和方法。能在诸如Unix、Windows和Mac OS等主流操作系统上运行。PyQt5有两种证书，GPL和商业证书。</p>\n<h3 id=\"PYQT和QT\"><a href=\"#PYQT和QT\" class=\"headerlink\" title=\"PYQT和QT\"></a>PYQT和QT</h3><p>PyQt的介绍，以及其与Qt的不同，可见<a href=\"https://www.riverbankcomputing.com/static/Docs/PyQt5/introduction.html\">官网此页</a></p>\n<p>Qt是一组c++库和开发工具，包括图形用户界面，网络，线程，正则表达式，SQL数据库，SVG, OpenGL, XML，用户和应用程序设置，定位和定位服务，短程通信(NFC和蓝牙)，web浏览，3D动画，图表、3D数据可视化以及与应用商店的交互。PyQt5作为一组Python模块实现了超过1000个这样的类。</p>\n<p>PyQt5是一组来自Qt公司的用于Qt应用程序框架v5的Python绑定，由PyQt5本身和许多与Qt的附加库相对应的附加组件组成。每一个都提供了一个源代码发行版(sdist)和用于Windows、Linux和macOS的二进制轮。<br>PyQt5支持Windows、Linux、UNIX、Android、macOS和iOS平台，需要Python v3.5或更高版本。(PyQt5还应该使用遗留的configure.py构建脚本在Python v2.7和Python v3的早期版本上构建，但这是不支持的。)</p>\n<h2 id=\"PYQT的类别\"><a href=\"#PYQT的类别\" class=\"headerlink\" title=\"PYQT的类别\"></a>PYQT的类别</h2><p>Pyqt的类别分为以下几个模块：</p>\n<ul>\n<li>QtCore:包含了核心的非GUI功能。此模块用于处理时间、文件和目录、各种数据类型、流、URL、MIME类型、线程或进程。</li>\n<li>QtGui包含类窗口系统集成、事件处理、二维图形、基本成像、字体和文本。</li>\n<li>QtWidgets模块包含创造经典桌面风格的用户界面提供了一套UI元素的类。</li>\n<li>QtMultimedia包含的类来处理多媒体内容和API来访问相机和收音机的功能。</li>\n<li>Qtbluetooth模块包含类的扫描设备和连接并与他们互动。描述模块包含了网络编程的类。这些类便于TCP和IP和UDP客户端和服务器的编码，使网络编程更容易和更便携。</li>\n<li>Qtpositioning包含类的利用各种可能的来源，确定位置，包括卫星、Wi-Fi、或一个文本文件。</li>\n<li>Enginio模块实现了客户端库访问Qt云服务托管的应用程序运行时。</li>\n<li>Qtwebsockets模块包含实现WebSocket协议类。</li>\n<li>QtWebKit包含一个基于Webkit2图书馆Web浏览器实现类。</li>\n<li>QtWebkitwidgets包含的类的基础webkit1一用于qtwidgets应用Web浏览器的实现。</li>\n<li>QtXml包含与XML文件的类。这个模块为SAX和DOM API提供了实现。</li>\n<li>QtSvg模块提供了显示SVG文件内容的类。可伸缩矢量图形（SVG）是一种描述二维图形和图形应用的语言。</li>\n<li>QtSql模块提供操作数据库的类。</li>\n<li>QtTest包含的功能，使pyqt5应用程序的单元测试</li>\n</ul>\n<h2 id=\"Pyqt5与Pyside2\"><a href=\"#Pyqt5与Pyside2\" class=\"headerlink\" title=\"Pyqt5与Pyside2\"></a>Pyqt5与Pyside2</h2><p>这里有一篇英文<a href=\"https://www.pythonguis.com/faq/pyqt5-vs-pyside2/\">文章</a>讲述了这两个package之间的区别。简单地说，Pyqt的使用历史比较长，目前中文方面的资料也比较多，Pyside是后续由原先参与Pyqt项目的公司推出的，二者在使用协议方面由不同。<br>在文档方面，Pyqt5与Pyside2大部分函数的构造都相同，详情可见以下网址：<br><a href=\"https://www.riverbankcomputing.com/static/Docs/PyQt5/index.html#\">PyQt5官方文档</a><br><a href=\"https://doc.qt.io/qtforpython-5/\">Pyside2官方文档</a></p>\n<h2 id=\"安装与配置\"><a href=\"#安装与配置\" class=\"headerlink\" title=\"安装与配置\"></a>安装与配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pyqt5</span><br><span class=\"line\"><span class=\"comment\">#使用pip下载该package</span></span><br><span class=\"line\"></span><br><span class=\"line\">pip install pyqt5-tools</span><br><span class=\"line\"><span class=\"comment\">#由于Qt Designer已经在Python3.5版本从PyQt5转移到了tools，因此我们还需要安装pyqt5-tools</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"验证是否成功安装\"><a href=\"#验证是否成功安装\" class=\"headerlink\" title=\"验证是否成功安装\"></a>验证是否成功安装</h2><p>qt designer是PyQt程序UI界面的实现工具，使用Qt Designer可以拖拽、点击完成GUI界面设计，并且设计完成的.ui程序可以转换成.py文件供python程序调用。Qt Designer的设计符合MVC的架构，其实现了视图和逻辑的分离，从而实现了开发的便捷。Qt Designer中的操作方式十分灵活，其通过拖拽的方式放置控件可以随时查看控件效果。Qt Designer生成的.ui文件（实质上是XML格式的文件）也可以通过<code>pyuic5</code>工具转换成.py文件。</p>\n<p>同时按下<code>win</code>+<code>s</code>键，在<code>cornata</code> 中输入<code>designer</code>，可以定位到<code>qt designer</code>程序的地址，成功启动该程序，则说明<code>PyQt5</code>已经被安装。</p>\n<p>另一种方法：在控制台中输入<code>pyuic5</code>，若返回信息为：<code>Error: one input ui-file must be specified</code>，说明 <code>PyQt5</code>已经被成功安装。</p>\n","text":"PYQT5介绍PyQt5 是Digia的一套Qt5应用框架与python的结合，同时支持2.x和3.x。<br>Qt库由Riverbank Computing开发，是最强大的GUI库之一 ，<br>官方网站：https://riverbankcomputing.com/<br>P","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"Pyqt5中的窗口与工具栏","slug":"Pyqt5中的窗口与工具栏","date":"2021-08-30T20:45:49.898Z","updated":"2021-08-30T20:55:29.290Z","comments":true,"path":"api/articles/Pyqt5中的窗口与工具栏.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"Pyqt5中的窗口与工具栏\"><a href=\"#Pyqt5中的窗口与工具栏\" class=\"headerlink\" title=\"Pyqt5中的窗口与工具栏\"></a>Pyqt5中的窗口与工具栏</h1><h2 id=\"主窗口\"><a href=\"#主窗口\" class=\"headerlink\" title=\"主窗口\"></a>主窗口</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：主窗口</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a skeleton of</span></span><br><span class=\"line\"><span class=\"string\">a classic GUI application with a menubar,</span></span><br><span class=\"line\"><span class=\"string\">toolbar, statusbar, and a central widget. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QTextEdit, QAction, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        textEdit = QTextEdit()</span><br><span class=\"line\">        self.setCentralWidget(textEdit)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建了一个文本编辑区域，并把它放在QMainWindow的中间区域，这个组件会占满所有剩余的区域。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct = QAction(QIcon(<span class=\"string\">&#x27;exit24.png&#x27;</span>), <span class=\"string\">&#x27;Exit&#x27;</span>, self)</span><br><span class=\"line\">        <span class=\"comment\">#当鼠标移至工具栏中的该图标时，会显示这里的文字‘Exit’</span></span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct.setShortcut(<span class=\"string\">&#x27;Ctrl+Q&#x27;</span>)       <span class=\"comment\">#设置该动作的相关快捷键</span></span><br><span class=\"line\">        exitAct.setStatusTip(<span class=\"string\">&#x27;Exit application&#x27;</span>)</span><br><span class=\"line\">        exitAct.triggered.connect(self.close)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar()    <span class=\"comment\">#创建一个状态栏</span></span><br><span class=\"line\"></span><br><span class=\"line\">        menubar = self.menuBar()    <span class=\"comment\">#创建一个菜单栏</span></span><br><span class=\"line\">        fileMenu = menubar.addMenu(<span class=\"string\">&#x27;&amp;File&#x27;</span>) <span class=\"comment\">#这里的符号&#x27;&amp;&#x27;不会在菜单栏选项中显示出来</span></span><br><span class=\"line\">        fileMenu.addAction(exitAct)</span><br><span class=\"line\"></span><br><span class=\"line\">        toolbar = self.addToolBar(<span class=\"string\">&#x27;Exit&#x27;</span>)  <span class=\"comment\">#addToolBar()创建工具栏</span></span><br><span class=\"line\">        toolbar.addAction(exitAct)         <span class=\"comment\">#工具栏添加一个选项</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">250</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Main window&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"状态栏\"><a href=\"#状态栏\" class=\"headerlink\" title=\"状态栏\"></a>状态栏</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例1：状态栏</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a statusbar.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#状态栏由QMainWindow创建</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#super() 函数是用于调用父类(超类)的一个方法。super ().__init__ ()，就是继承父类的init方法</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar().showMessage(<span class=\"string\">&#x27;Ready&#x27;</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        调用QtGui.QMainWindow类的statusBar()方法，创建状态栏。</span></span><br><span class=\"line\"><span class=\"string\">        第一次调用会创建一个状态栏，而再次调用会返回一个状态栏对象。showMessage()方法在状态栏上显示一条信息。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Statusbar&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"菜单栏\"><a href=\"#菜单栏\" class=\"headerlink\" title=\"菜单栏\"></a>菜单栏</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例2：菜单栏</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a menubar. The</span></span><br><span class=\"line\"><span class=\"string\">menubar has one menu with an exit action.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: January 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QAction, qApp, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct = QAction(QIcon(<span class=\"string\">&#x27;exit.png&#x27;</span>), <span class=\"string\">&#x27;&amp;Exit&#x27;</span>, self)        </span><br><span class=\"line\">        exitAct.setShortcut(<span class=\"string\">&#x27;Ctrl+Q&#x27;</span>)</span><br><span class=\"line\">        exitAct.setStatusTip(<span class=\"string\">&#x27;Exit application&#x27;</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QAction是菜单栏、工具栏或者快捷键的动作的组合。</span></span><br><span class=\"line\"><span class=\"string\">        上面三行中，前两行创建了一个图标、一个exit的标签和一个快捷键组合，都执行了一个动作；</span></span><br><span class=\"line\"><span class=\"string\">        第三行，创建了一个状态栏，当鼠标悬停在菜单栏的时候，能显示当前状态。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct.triggered.connect(qApp.quit)</span><br><span class=\"line\">        <span class=\"comment\">#当执行这个指定的动作时，就触发了一个事件。这个事件跟QApplication的quit()行为相关联，所以这个动作就能终止这个应用。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar()</span><br><span class=\"line\"></span><br><span class=\"line\">        menubar = self.menuBar()    <span class=\"comment\">#创建一个菜单栏（位于顶部固定位置）</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QMenu和QMenuBar是Qt中的菜单类(也就是右键菜单)和菜单栏类，其中，菜单QMenu挂载在菜单栏QMenuBar上</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        fileMenu = menubar.addMenu(<span class=\"string\">&#x27;&amp;File&#x27;</span>)</span><br><span class=\"line\">        fileMenu.addAction(exitAct)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        menuBar()创建菜单栏。这里创建了一个菜单栏，并用addMenu()在上面添加了一个file菜单，</span></span><br><span class=\"line\"><span class=\"string\">        用addAction()关联了点击退出应用的事件/动作（也就是可直接进行的选项而非子级菜单）。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Simple menu&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"子菜单\"><a href=\"#子菜单\" class=\"headerlink\" title=\"子菜单\"></a>子菜单</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例3：子菜单</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a submenu.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QAction, QMenu, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>         </span><br><span class=\"line\">        self.setWindowIcon(QIcon(<span class=\"string\">&#x27;icon.png&#x27;</span>))  <span class=\"comment\">#设置图标</span></span><br><span class=\"line\">        menubar = self.menuBar()</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">#菜单栏上一个没有子级菜单的纯粹选项（动作）</span></span><br><span class=\"line\">        GoAction = menubar.addAction(<span class=\"string\">&quot;GOOOOOOOOoo&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        主菜单栏第一项为File，其下添加两个动作（addAction(impAct)）New和Save，</span></span><br><span class=\"line\"><span class=\"string\">        添加两个子级菜单(addMenu(impMenu))Import和Import2</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        fileMenu = menubar.addMenu(<span class=\"string\">&#x27;File&#x27;</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        impMenu = QMenu(<span class=\"string\">&#x27;Import&#x27;</span>, self) <span class=\"comment\">#定义一个子菜单 Import</span></span><br><span class=\"line\">        impAct = QAction(<span class=\"string\">&#x27;Import mail&#x27;</span>, self) <span class=\"comment\">#在子菜单Import下的子级菜单 Import mail</span></span><br><span class=\"line\">        impMenu.addAction(impAct) <span class=\"comment\">#用addAction()关联事件————悬浮在Import时会出现Import mail。</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        impMenu2 = QMenu(<span class=\"string\">&#x27;Import2&#x27;</span>, self)</span><br><span class=\"line\">        impAct2 = QAction(<span class=\"string\">&#x27;Import mail2&#x27;</span>, self)</span><br><span class=\"line\">        impMenu2.addAction(impAct2)</span><br><span class=\"line\">        </span><br><span class=\"line\">        newAct = QAction(<span class=\"string\">&#x27;New一个&#x27;</span>, self)        </span><br><span class=\"line\">        save = QAction(<span class=\"string\">&#x27;Save保存文件&#x27;</span>,self)</span><br><span class=\"line\"></span><br><span class=\"line\">        fileMenu.addAction(newAct)<span class=\"comment\">#添加了菜单下的一个动作（也就是可直接进行的选项而非子级菜单）</span></span><br><span class=\"line\">        fileMenu.addAction(save) <span class=\"comment\">#添加了动作“Save保存文件”，注意顺序在new之后</span></span><br><span class=\"line\">        fileMenu.addMenu(impMenu)<span class=\"comment\">#添加了子菜单，注意函数addMenu是和添加主菜单一样的</span></span><br><span class=\"line\">        fileMenu.addMenu(impMenu2)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#定义菜单栏的选项edit</span></span><br><span class=\"line\">        editMenu = menubar.addMenu(<span class=\"string\">&quot;Edit&quot;</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        impMenu_edit = QMenu(<span class=\"string\">&quot;write in Chinese&quot;</span>,self)</span><br><span class=\"line\">        editMenu.addMenu(impMenu_edit)</span><br><span class=\"line\"></span><br><span class=\"line\">        impAct_edit = QAction(<span class=\"string\">&quot;give up&quot;</span>,self)</span><br><span class=\"line\">        editMenu.addAction(impAct_edit)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Submenu&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"勾选菜单\"><a href=\"#勾选菜单\" class=\"headerlink\" title=\"勾选菜单\"></a>勾选菜单</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例4：勾选菜单</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a optional menu.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> typing <span class=\"keyword\">import</span> ValuesView</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QAction, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>         </span><br><span class=\"line\">        </span><br><span class=\"line\">        self.statusbar = self.statusBar()</span><br><span class=\"line\">        self.statusbar.showMessage(<span class=\"string\">&#x27;Ready&#x27;</span>)   <span class=\"comment\">#状态栏显示</span></span><br><span class=\"line\"></span><br><span class=\"line\">        menubar = self.menuBar()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#本例创建了一个行为菜单。这个行为／动作能切换状态栏显示或者隐藏。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        viewMenu = menubar.addMenu(<span class=\"string\">&#x27;View&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        viewStatAct = QAction(text=<span class=\"string\">&#x27;View statusbar&#x27;</span>, parent=self, checkable=<span class=\"literal\">True</span>)</span><br><span class=\"line\">        <span class=\"comment\">#checkable选项为True，意味着所创建的这一个 动作（父级菜单的子项） 能被选中</span></span><br><span class=\"line\"></span><br><span class=\"line\">        viewStatAct.setStatusTip(<span class=\"string\">&#x27;View statusbar&#x27;</span>)</span><br><span class=\"line\">        viewStatAct.setChecked(<span class=\"literal\">True</span>)    <span class=\"comment\">#设置该动作的默认状态为选中状态</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        viewStatAct.triggered.connect(self.toggleMenu)<span class=\"comment\">#绑定动作激活时的事件</span></span><br><span class=\"line\"></span><br><span class=\"line\">        viewMenu.addAction(viewStatAct)</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Check menu&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">toggleMenu</span>(<span class=\"params\">self, state</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#根据是否打钩来决定是否显示底部的状态栏</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> state:</span><br><span class=\"line\">            self.statusbar.show()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.statusbar.hide()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"右键菜单\"><a href=\"#右键菜单\" class=\"headerlink\" title=\"右键菜单\"></a>右键菜单</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例5：右键菜单</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a context menu.</span></span><br><span class=\"line\"><span class=\"string\">context有内容、上下文的意思，context menu意为右键菜单（上下文菜单）</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, qApp, QMenu, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>         </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Context menu&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    利用右键菜单事件 QWidget::contextMenuEvent() 来处理右键事件，所以需要重写此函数</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">contextMenuEvent</span>(<span class=\"params\">self, event</span>):</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            The QMenu class provides a menu widget for use in menu bars, context menus, and other popup menus</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">            cmenu = QMenu(<span class=\"string\">&#x27;这里的文字不会显示，有无均可&#x27;</span>,self) <span class=\"comment\">#使用QMenu创建一个上下文菜单，即右键菜单</span></span><br><span class=\"line\"></span><br><span class=\"line\">            newAct = cmenu.addAction(<span class=\"string\">&quot;New&quot;</span>)     <span class=\"comment\">#添加了一名为“New”的动作</span></span><br><span class=\"line\">            opnAct = cmenu.addAction(<span class=\"string\">&quot;Open&quot;</span>)</span><br><span class=\"line\">            quitAct = cmenu.addAction(<span class=\"string\">&quot;Quit&quot;</span>)</span><br><span class=\"line\">            action = cmenu.exec_(self.mapToGlobal(event.pos()))</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            使用exec_()方法显示菜单。从鼠标右键事件对象中获得当前坐标。mapToGlobal()方法把当前组件的相对坐标转换为窗口（window）的绝对坐标。</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            如果点击右键菜单中的Quit动作，则退出</span></span><br><span class=\"line\"><span class=\"string\">            右键菜单里触发了事件，也就触发了退出事件，执行关闭菜单行为</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> action == quitAct:</span><br><span class=\"line\">                qApp.quit() </span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"built_in\">print</span>(<span class=\"string\">&quot;现在执行的动作不是quitAct&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"工具栏\"><a href=\"#工具栏\" class=\"headerlink\" title=\"工具栏\"></a>工具栏</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：工具栏</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a toolbar.</span></span><br><span class=\"line\"><span class=\"string\">The toolbar has one action, which</span></span><br><span class=\"line\"><span class=\"string\">terminates the application, if triggered.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QAction, qApp, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct = QAction(icon=QIcon(<span class=\"string\">&#x27;exit24.png&#x27;</span>), text=<span class=\"string\">&#x27;Exittttt&#x27;</span>, parent=self)</span><br><span class=\"line\">        exitAct.setShortcut(<span class=\"string\">&#x27;Ctrl+Q&#x27;</span>)</span><br><span class=\"line\">        exitAct.triggered.connect(qApp.quit)</span><br><span class=\"line\">        <span class=\"comment\">#行为被触发的时候，会调用QtGui.QMainWindow的quit方法退出应用</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.toolbar = self.addToolBar(<span class=\"string\">&#x27;Exit&#x27;</span>)<span class=\"comment\">#addToolBar()创建工具栏</span></span><br><span class=\"line\">        <span class=\"comment\">#‘Exit’不会显示在工具栏中，当鼠标移至该图标时，会显示文字‘Exittttt’而非‘Exit’</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.toolbar.addAction(exitAct) <span class=\"comment\">#将动作添加到工具栏</span></span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Toolbar&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n<h2 id=\"主窗口-1\"><a href=\"#主窗口-1\" class=\"headerlink\" title=\"主窗口\"></a>主窗口</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：主窗口</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a skeleton of</span></span><br><span class=\"line\"><span class=\"string\">a classic GUI application with a menubar,</span></span><br><span class=\"line\"><span class=\"string\">toolbar, statusbar, and a central widget. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QMainWindow, QTextEdit, QAction, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QMainWindow</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        textEdit = QTextEdit()</span><br><span class=\"line\">        self.setCentralWidget(textEdit)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建了一个文本编辑区域，并把它放在QMainWindow的中间区域，这个组件会占满所有剩余的区域。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct = QAction(QIcon(<span class=\"string\">&#x27;exit24.png&#x27;</span>), <span class=\"string\">&#x27;Exit&#x27;</span>, self)</span><br><span class=\"line\">        <span class=\"comment\">#当鼠标移至工具栏中的该图标时，会显示这里的文字‘Exit’</span></span><br><span class=\"line\"></span><br><span class=\"line\">        exitAct.setShortcut(<span class=\"string\">&#x27;Ctrl+Q&#x27;</span>)       <span class=\"comment\">#设置该动作的相关快捷键</span></span><br><span class=\"line\">        exitAct.setStatusTip(<span class=\"string\">&#x27;Exit application&#x27;</span>)</span><br><span class=\"line\">        exitAct.triggered.connect(self.close)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.statusBar()    <span class=\"comment\">#创建一个状态栏</span></span><br><span class=\"line\"></span><br><span class=\"line\">        menubar = self.menuBar()    <span class=\"comment\">#创建一个菜单栏</span></span><br><span class=\"line\">        fileMenu = menubar.addMenu(<span class=\"string\">&#x27;&amp;File&#x27;</span>) <span class=\"comment\">#这里的符号&#x27;&amp;&#x27;不会在菜单栏选项中显示出来</span></span><br><span class=\"line\">        fileMenu.addAction(exitAct)</span><br><span class=\"line\"></span><br><span class=\"line\">        toolbar = self.addToolBar(<span class=\"string\">&#x27;Exit&#x27;</span>)  <span class=\"comment\">#addToolBar()创建工具栏</span></span><br><span class=\"line\">        toolbar.addAction(exitAct)         <span class=\"comment\">#工具栏添加一个选项</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">250</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Main window&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n\n","text":"Pyqt5中的窗口与工具栏主窗口1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>2","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"PYQT5控件","slug":"PYQT5控件","date":"2021-08-30T21:26:04.103Z","updated":"2021-08-30T21:30:33.641Z","comments":true,"path":"api/articles/PYQT5控件.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"PYQT5控件\"><a href=\"#PYQT5控件\" class=\"headerlink\" title=\"PYQT5控件\"></a>PYQT5控件</h1><h2 id=\"QCheckBox\"><a href=\"#QCheckBox\" class=\"headerlink\" title=\"QCheckBox\"></a>QCheckBox</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, a QCheckBox widget</span></span><br><span class=\"line\"><span class=\"string\">is used to toggle the title of a window.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QCheckBox, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        cb = QCheckBox(<span class=\"string\">&#x27;Show title&#x27;</span>, self)</span><br><span class=\"line\">        <span class=\"comment\">#QCheckBox的构造器，QCheckBox组件有两个状态：开和关</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QCheckBox构造一个三态复选框</span></span><br><span class=\"line\"><span class=\"string\">        名称                值       含义</span></span><br><span class=\"line\"><span class=\"string\">        Qt.Checked\t        2\t 组件没有被选中（默认）</span></span><br><span class=\"line\"><span class=\"string\">        Qt.PartiallyChecked\t1 \t 组件被半选中</span></span><br><span class=\"line\"><span class=\"string\">        Qt.Unchecked\t    0    组件被选中</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        cb.move(<span class=\"number\">20</span>, <span class=\"number\">20</span>)</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;cb.toggle = &#x27;</span>,cb.toggle())</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        检查单选框的状态。默认情况下，窗口没有标题，单选框未选中</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QAbstractButton.toggled(checked)¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        checked – bool</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        cb.stateChanged.connect(self.changeTitle)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QCheckBox.stateChanged(arg__1)¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        arg__1 – int</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QCheckBox&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">changeTitle</span>(<span class=\"params\">self, state</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#根据状态实现窗口标题切换的功能</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;state = &quot;</span>,state)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        Qt.Checked为int类型，值为2，代表组件没有被选中</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> state == Qt.Checked:</span><br><span class=\"line\">            self.setWindowTitle(<span class=\"string\">&#x27;QCheckBox&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.setWindowTitle(<span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"切换按钮\"><a href=\"#切换按钮\" class=\"headerlink\" title=\"切换按钮\"></a>切换按钮</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：切换按钮</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we create three toggle buttons.</span></span><br><span class=\"line\"><span class=\"string\">They will control the background color of a </span></span><br><span class=\"line\"><span class=\"string\">QFrame. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QPushButton, </span><br><span class=\"line\">    QFrame, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QColor</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.col = QColor(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>)       </span><br><span class=\"line\"></span><br><span class=\"line\">        redb = QPushButton(<span class=\"string\">&#x27;Red&#x27;</span>, self)</span><br><span class=\"line\">        redb.setCheckable(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        redb.move(<span class=\"number\">10</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        redb.clicked[<span class=\"built_in\">bool</span>].connect(self.setColor)</span><br><span class=\"line\"></span><br><span class=\"line\">        greenb = QPushButton(<span class=\"string\">&#x27;Green&#x27;</span>, self)</span><br><span class=\"line\">        greenb.setCheckable(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        greenb.move(<span class=\"number\">10</span>, <span class=\"number\">60</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        greenb.clicked[<span class=\"built_in\">bool</span>].connect(self.setColor)</span><br><span class=\"line\"></span><br><span class=\"line\">        blueb = QPushButton(<span class=\"string\">&#x27;Blue&#x27;</span>, self)</span><br><span class=\"line\">        blueb.setCheckable(<span class=\"literal\">True</span>)</span><br><span class=\"line\">        blueb.move(<span class=\"number\">10</span>, <span class=\"number\">110</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        blueb.clicked[<span class=\"built_in\">bool</span>].connect(self.setColor)</span><br><span class=\"line\">        <span class=\"comment\">#每一种颜色都与这一个设置色彩（RGB三项分别）的函数点击关联</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.square = QFrame(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        容器中的Frame为一个矩形的框架对象，对应类QFrame，</span></span><br><span class=\"line\"><span class=\"string\">        QFrame类是PyQt中带框架部件的所有类的基类，如菜单、进度条、Label标签</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.square.setGeometry(<span class=\"number\">150</span>, <span class=\"number\">20</span>, <span class=\"number\">100</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\">        self.square.setStyleSheet(<span class=\"string\">&quot;QWidget &#123; background-color: %s &#125;&quot;</span> %  </span><br><span class=\"line\">            self.col.name())</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">280</span>, <span class=\"number\">170</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Toggle button&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">setColor</span>(<span class=\"params\">self, pressed</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        source = self.sender()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> pressed:</span><br><span class=\"line\">            val = <span class=\"number\">255</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>: val = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> source.text() == <span class=\"string\">&quot;Red&quot;</span>:</span><br><span class=\"line\">            self.col.setRed(val)   </span><br><span class=\"line\">            <span class=\"comment\">#将RGB模式中红色值调为val=255             </span></span><br><span class=\"line\">        <span class=\"keyword\">elif</span> source.text() == <span class=\"string\">&quot;Green&quot;</span>:</span><br><span class=\"line\">            self.col.setGreen(val)             </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.col.setBlue(val) </span><br><span class=\"line\"></span><br><span class=\"line\">        self.square.setStyleSheet(<span class=\"string\">&quot;QFrame &#123; background-color: %s &#125;&quot;</span> % self.col.name())  </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        使用样式表（就是CSS的SS）改变背景色</span></span><br><span class=\"line\"><span class=\"string\">        此处self.square是一个QFrame类</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QWidget.setStyleSheet(styleSheet)¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters： styleSheet – str</span></span><br><span class=\"line\"><span class=\"string\">        This property holds the widget’s style sheet.</span></span><br><span class=\"line\"><span class=\"string\">        The style sheet contains a textual description of customizations to the widget’s style, as described in the Qt Style Sheets document.</span></span><br><span class=\"line\"><span class=\"string\">        该函数可以设置样式（包括颜色、字体、边框等，类比于html中style属性）</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"滑块\"><a href=\"#滑块\" class=\"headerlink\" title=\"滑块\"></a>滑块</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：滑块</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows a QSlider widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QSlider, </span><br><span class=\"line\">    QLabel, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QPixmap</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        sld = QSlider(Qt.Horizontal, self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个水平的QSlider</span></span><br><span class=\"line\"><span class=\"string\">        QSlider控件提供一个垂直或者水平的滑动条，滑动条是一个用于控制有界值典型的控件，</span></span><br><span class=\"line\"><span class=\"string\">        它允许用户沿水平或者垂直方向在某一范围内移动滑块，并将滑块所在的位置转换为一个合法范围内的整数值，</span></span><br><span class=\"line\"><span class=\"string\">        有时候这中方式比输入数字或者使用SpinBox（计数器·）更加自然，在槽函数中对滑块所在位置的处理相当于从整数之间的最小值和最高值进行取值</span></span><br><span class=\"line\"><span class=\"string\">        原文链接：https://blog.csdn.net/jia666666/article/details/81534588</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        sld.setFocusPolicy(Qt.NoFocus)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        setFocusPolicy(Policy)  设置焦点获取策略</span></span><br><span class=\"line\"><span class=\"string\">            Qt.TabFocus() 通过Tab键获取焦点</span></span><br><span class=\"line\"><span class=\"string\">            Qt.ClickFocus() 通过被单击获取焦点</span></span><br><span class=\"line\"><span class=\"string\">            Qt.StrongFocus()    可以通过上面两种方式获取焦点</span></span><br><span class=\"line\"><span class=\"string\">            Qt.NoFocus()    不能通过上面两种方式获取焦点</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        sld.setGeometry(<span class=\"number\">30</span>, <span class=\"number\">40</span>, <span class=\"number\">100</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        setGeometry()有两个作用：</span></span><br><span class=\"line\"><span class=\"string\">        把窗口放到屏幕上；设置窗口大小。</span></span><br><span class=\"line\"><span class=\"string\">        四个参数分别代表屏幕坐标的x、y和窗口大小的宽、高。</span></span><br><span class=\"line\"><span class=\"string\">        这个方法是resize()和move()的合体。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        sld.valueChanged[<span class=\"built_in\">int</span>].connect(self.changeValue)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.label = QLabel(self)</span><br><span class=\"line\">        self.label.setPixmap(QPixmap(<span class=\"string\">&#x27;mute.png&#x27;</span>))</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个QLabel组件并给它设置一个静音图标(作为图标的默认设置)</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QLabel.setPixmap(arg__1)¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        arg__1 – PySide2.QtGui.QPixmap</span></span><br><span class=\"line\"><span class=\"string\">        This property holds the label’s pixmap..</span></span><br><span class=\"line\"><span class=\"string\">        Previously, Qt provided a version of pixmap() which returned the pixmap by-pointer. That version is now deprecated. To maintain compatibility with old code, you can explicitly differentiate between the by-pointer function and the by-value function:</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        QPixmap类用于绘图设备的图像显示，它可以作为一个QPainterDevice对象，也可以加载到一个控件中，通常是标签或者按钮，用于在标签或按钮上显示图像</span></span><br><span class=\"line\"><span class=\"string\">        QPixmap可以读取的图像文件类型有BMP，GIF，JPG等</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        self.label.setGeometry(<span class=\"number\">160</span>, <span class=\"number\">40</span>, <span class=\"number\">1000</span>, <span class=\"number\">800</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">100</span>, <span class=\"number\">100</span>, <span class=\"number\">2000</span>, <span class=\"number\">1600</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QSlider&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">changeValue</span>(<span class=\"params\">self, value</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> value == <span class=\"number\">0</span>:</span><br><span class=\"line\">            self.label.setPixmap(QPixmap(<span class=\"string\">&#x27;mute.png&#x27;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> value &gt; <span class=\"number\">0</span> <span class=\"keyword\">and</span> value &lt;= <span class=\"number\">30</span>:</span><br><span class=\"line\">            self.label.setPixmap(QPixmap(<span class=\"string\">&#x27;min.png&#x27;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> value &gt; <span class=\"number\">30</span> <span class=\"keyword\">and</span> value &lt; <span class=\"number\">80</span>:</span><br><span class=\"line\">            self.label.setPixmap(QPixmap(<span class=\"string\">&#x27;med.png&#x27;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.label.setPixmap(QPixmap(<span class=\"string\">&#x27;max.png&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"进度条\"><a href=\"#进度条\" class=\"headerlink\" title=\"进度条\"></a>进度条</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：进度条</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows a QProgressBar widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QProgressBar, </span><br><span class=\"line\">    QPushButton, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> QBasicTimer</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.pbar = QProgressBar(self)</span><br><span class=\"line\">        <span class=\"comment\">#新建一个QProgressBar构造器。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.pbar.setGeometry(<span class=\"number\">30</span>, <span class=\"number\">40</span>, <span class=\"number\">200</span>, <span class=\"number\">25</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.btn = QPushButton(<span class=\"string\">&#x27;Start&#x27;</span>, self)</span><br><span class=\"line\">        self.btn.move(<span class=\"number\">40</span>, <span class=\"number\">80</span>)</span><br><span class=\"line\">        self.btn.clicked.connect(self.doAction)<span class=\"comment\">#点击绑定一个用来控制开始和停止的方法</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.timer = QBasicTimer()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        用时间控制进度条。</span></span><br><span class=\"line\"><span class=\"string\">        QBasicTimer类为对象提供计时器事件。这是Qt内部使用的一个快速，轻量级和低级别的类。</span></span><br><span class=\"line\"><span class=\"string\">        注意这个定时器是一个重复的定时器，除非调用stop()函数，否则它将发送后续的定时器事件。</span></span><br><span class=\"line\"><span class=\"string\">        当定时器超时时，它将向QObject子类发送一个timer事件。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        self.step = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">280</span>, <span class=\"number\">170</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QProgressBar&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">timerEvent</span>(<span class=\"params\">self, e</span>):</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        每个QObject和又它继承而来的对象都有一个timerEvent()事件处理函数。</span></span><br><span class=\"line\"><span class=\"string\">        为了触发事件，我们重载（≠重写）了这个方法。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.step &gt;= <span class=\"number\">100</span>:</span><br><span class=\"line\">            self.timer.stop()</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            PySide2.QtCore.QBasicTimer.stop()¶</span></span><br><span class=\"line\"><span class=\"string\">                No parameters.</span></span><br><span class=\"line\"><span class=\"string\">                Stops the timer.</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">            self.btn.setText(<span class=\"string\">&#x27;Finished&#x27;</span>) <span class=\"comment\">#改变按钮控件的text值</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.step = self.step + <span class=\"number\">1</span></span><br><span class=\"line\">        self.pbar.setValue(self.step)<span class=\"comment\">#设置值</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">doAction</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span> self.timer.isActive():</span><br><span class=\"line\">            self.timer.stop()</span><br><span class=\"line\">            self.btn.setText(<span class=\"string\">&#x27;Start&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            self.timer.start(<span class=\"number\">100</span>, self)</span><br><span class=\"line\">            <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">            调用start()方法加载时间事件，这个方法有两个参数：过期时间（单位：毫秒）和事件接收者</span></span><br><span class=\"line\"><span class=\"string\">            start(int, QObject)</span></span><br><span class=\"line\"><span class=\"string\">            &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">            self.btn.setText(<span class=\"string\">&#x27;Stop&#x27;</span>)<span class=\"comment\">#按钮文字改为“Stop”</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"日历\"><a href=\"#日历\" class=\"headerlink\" title=\"日历\"></a>日历</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：日历</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows a QCalendarWidget widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QCalendarWidget, </span><br><span class=\"line\">    QLabel, QApplication, QVBoxLayout)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> QDate</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        vbox = QVBoxLayout(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QHBoxLayout和QVBoxLayout类继承自QBoxLayout，采用QBOXLayout类可以在水平和垂直方向上排列控件，</span></span><br><span class=\"line\"><span class=\"string\">        本案例采用QHBoxLayout类，按照从左到右的顺序来添加控件，</span></span><br><span class=\"line\"><span class=\"string\">        详见博客https://blog.csdn.net/jia666666/article/details/81699900</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        cal = QCalendarWidget(self)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个QCalendarWidge</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        cal.setGridVisible(<span class=\"literal\">False</span>)</span><br><span class=\"line\">        <span class=\"comment\">#setGridVisible(bool)方法可以设置是否在日历上显示网格</span></span><br><span class=\"line\"></span><br><span class=\"line\">        cal.clicked[QDate].connect(self.showDate)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        选择一个日期时，QDate的点击信号就触发了，把这个信号和我们自己定义的showDate()方法关联起来</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        vbox.addWidget(cal)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl = QLabel(self)</span><br><span class=\"line\"></span><br><span class=\"line\">        date = cal.selectedDate()</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        selectedDate()方法获取日历控件选中的日期(格式为一个QDate日期对象)</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QCalendarWidget.selectedDate()¶</span></span><br><span class=\"line\"><span class=\"string\">        Return type</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtCore.QDate</span></span><br><span class=\"line\"><span class=\"string\">        This property holds the currently selected date..</span></span><br><span class=\"line\"><span class=\"string\">        The selected date must be within the date range specified by the minimumDate and maximumDate properties. By default, the selected date is the current date.</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl.setText(date.toString())<span class=\"comment\">#将该日期对象转换为字符串</span></span><br><span class=\"line\"></span><br><span class=\"line\">        vbox.addWidget(self.lbl)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setLayout(vbox)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">350</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Calendar&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showDate</span>(<span class=\"params\">self, date</span>):</span>     </span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl.setText(date.toString())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"图片\"><a href=\"#图片\" class=\"headerlink\" title=\"图片\"></a>图片</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：图片处理</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we dispay an image</span></span><br><span class=\"line\"><span class=\"string\">on the window. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QHBoxLayout, </span><br><span class=\"line\">    QLabel, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QPixmap</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        hbox = QHBoxLayout(self)</span><br><span class=\"line\">        pixmap = QPixmap(<span class=\"string\">&quot;exit.png&quot;</span>)</span><br><span class=\"line\">        <span class=\"comment\">#创建一个QPixmap对象，接收一个文件作为参数。</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        QPixmap类用于绘图设备的图像显示，它可以作为一个QPainterDevice对象，也可以加载到一个控件中，通常是标签或者按钮，用于在标签或按钮上显示图像</span></span><br><span class=\"line\"><span class=\"string\">QPixmap可以读取的图像文件类型有BMP，GIF，JPG等</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        lbl = QLabel(self)</span><br><span class=\"line\">        lbl.setPixmap(pixmap)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        把QPixmap实例放到QLabel组件里。</span></span><br><span class=\"line\"><span class=\"string\">        注意，组件大小 必须大于等于 QPixmap这个控件大小（也即图片大小）</span></span><br><span class=\"line\"><span class=\"string\">        PySide2.QtWidgets.QLabel.setPixmap(arg__1)¶</span></span><br><span class=\"line\"><span class=\"string\">        Parameters</span></span><br><span class=\"line\"><span class=\"string\">        arg__1 – PySide2.QtGui.QPixmap</span></span><br><span class=\"line\"><span class=\"string\">        This property holds the label’s pixmap..</span></span><br><span class=\"line\"><span class=\"string\">        Previously, Qt provided a version of pixmap() which returned the pixmap by-pointer. That version is now deprecated. To maintain compatibility with old code, you can explicitly differentiate between the by-pointer function and the by-value function:</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        hbox.addWidget(lbl)</span><br><span class=\"line\">        self.setLayout(hbox)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.move(<span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Red Rock&#x27;</span>)</span><br><span class=\"line\">        self.show()        </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"行编辑\"><a href=\"#行编辑\" class=\"headerlink\" title=\"行编辑\"></a>行编辑</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：行编辑</span></span><br><span class=\"line\"><span class=\"string\">让标签的文本与输入文本相同</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows text which </span></span><br><span class=\"line\"><span class=\"string\">is entered in a QLineEdit</span></span><br><span class=\"line\"><span class=\"string\">in a QLabel widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">例子中展示了一个编辑组件和一个标签，我们在输入框里键入的文本，会立即在标签里显示出来</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QLabel, </span><br><span class=\"line\">    QLineEdit, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl = QLabel(self)</span><br><span class=\"line\"></span><br><span class=\"line\">        qle = QLineEdit(self)</span><br><span class=\"line\">        <span class=\"comment\">#创建一个QLineEdit对象。</span></span><br><span class=\"line\"></span><br><span class=\"line\">        qle.move(<span class=\"number\">60</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\">        self.lbl.move(<span class=\"number\">60</span>, <span class=\"number\">40</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        qle.textChanged[<span class=\"built_in\">str</span>].connect(self.onChanged)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        输入框的值有变化时调用我们自己创建的一个方法。</span></span><br><span class=\"line\"><span class=\"string\">        QLineEdit类中的常用信号textChanged：当修改文本内容时，这个信号就会发射</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">280</span>, <span class=\"number\">170</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QLineEdit&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">onChanged</span>(<span class=\"params\">self, text</span>):</span></span><br><span class=\"line\">        <span class=\"comment\">#把文本框里的值赋值给了标签组件，然后调用adjustSize()方法让标签自适应文本内容</span></span><br><span class=\"line\">        self.lbl.setText(text)  <span class=\"comment\">#改变标签的文本</span></span><br><span class=\"line\">        self.lbl.adjustSize()   <span class=\"comment\">#adjustSize() 根据内容自适应大小</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"QSplitter\"><a href=\"#QSplitter\" class=\"headerlink\" title=\"QSplitter\"></a>QSplitter</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：splitter 分束器————窗口分隔</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows</span></span><br><span class=\"line\"><span class=\"string\">how to use QSplitter widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">QSplitter组件能让用户通过 拖拽分割线 的方式改变子窗口大小的组件。本例中我们展示用两个分割线隔开的三个QFrame组件。</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> Qt</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QHBoxLayout, QFrame,</span><br><span class=\"line\">                             QSplitter, QApplication)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        hbox = QHBoxLayout(self)</span><br><span class=\"line\"></span><br><span class=\"line\">        topleft = QFrame(self)</span><br><span class=\"line\">        topleft.setFrameShape(QFrame.StyledPanel)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        为了更清楚的看到分割线，我们使用了设置好的子窗口样式。</span></span><br><span class=\"line\"><span class=\"string\">        QFrame的相关值与表现形式可见 http://allstack.net/wordpress/post-918.html</span></span><br><span class=\"line\"><span class=\"string\">        注意这里是 StyledPanel 而不是style!</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        topright = QFrame(self)</span><br><span class=\"line\">        topright.setFrameShape(QFrame.StyledPanel)</span><br><span class=\"line\"></span><br><span class=\"line\">        bottom = QFrame(self)</span><br><span class=\"line\">        bottom.setFrameShape(QFrame.StyledPanel)</span><br><span class=\"line\"></span><br><span class=\"line\">        splitter1 = QSplitter(Qt.Horizontal)</span><br><span class=\"line\">        splitter1.addWidget(topleft)</span><br><span class=\"line\">        splitter1.addWidget(topright)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个QSplitter组件，并在里面添加了两个框架</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        splitter2 = QSplitter(Qt.Vertical)</span><br><span class=\"line\">        splitter2.addWidget(splitter1)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        在分割线里面再进行分割</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        splitter2.addWidget(bottom)</span><br><span class=\"line\"></span><br><span class=\"line\">        hbox.addWidget(splitter2)</span><br><span class=\"line\">        self.setLayout(hbox)</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QSplitter&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">onChanged</span>(<span class=\"params\">self, text</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl.setText(text)</span><br><span class=\"line\">        self.lbl.adjustSize()        </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"下拉选框\"><a href=\"#下拉选框\" class=\"headerlink\" title=\"下拉选框\"></a>下拉选框</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例子：组合下拉框</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows how to use </span></span><br><span class=\"line\"><span class=\"string\">a QComboBox widget.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">QComboBox组件能让用户在 多个选择项 中 选择 一个</span></span><br><span class=\"line\"><span class=\"string\">combo 意为 组合的意思</span></span><br><span class=\"line\"><span class=\"string\">combobox: 组合框；下拉列表框</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> (QWidget, QLabel, </span><br><span class=\"line\">    QComboBox, QApplication)</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>      </span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl = QLabel(<span class=\"string\">&quot;Ubuntu&quot;</span>, self)</span><br><span class=\"line\"></span><br><span class=\"line\">        combo = QComboBox(self)</span><br><span class=\"line\">        combo.addItem(<span class=\"string\">&quot;Ubuntu&quot;</span>)  <span class=\"comment\">#添加选项</span></span><br><span class=\"line\">        combo.addItem(<span class=\"string\">&quot;Mandriva&quot;</span>)</span><br><span class=\"line\">        combo.addItem(<span class=\"string\">&quot;Fedora&quot;</span>)</span><br><span class=\"line\">        combo.addItem(<span class=\"string\">&quot;Arch&quot;</span>)</span><br><span class=\"line\">        combo.addItem(<span class=\"string\">&quot;Gentoo&quot;</span>)</span><br><span class=\"line\">        combo.addItems([<span class=\"string\">&quot;CentOS&quot;</span>,<span class=\"string\">&quot;Alibaba linux&quot;</span>])</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        addItem()\t添加一个下拉选项</span></span><br><span class=\"line\"><span class=\"string\">        addItems()\t从列表中添加下拉选项</span></span><br><span class=\"line\"><span class=\"string\">        Clear()\t删除下拉选项集合中的所有选项</span></span><br><span class=\"line\"><span class=\"string\">        count()\t返回下拉选项集合中的数目</span></span><br><span class=\"line\"><span class=\"string\">        currentText()\t返回选中选项的文本</span></span><br><span class=\"line\"><span class=\"string\">        itemText(i)\t获取索引为i的item的选项文本</span></span><br><span class=\"line\"><span class=\"string\">        currentIndex()\t返回选中项的索引</span></span><br><span class=\"line\"><span class=\"string\">        setItemText(int index,text)\t改变序列号为index的文本</span></span><br><span class=\"line\"><span class=\"string\">        原文链接：https://blog.csdn.net/jia666666/article/details/81534260</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        combo.move(<span class=\"number\">50</span>, <span class=\"number\">50</span>)</span><br><span class=\"line\">        self.lbl.move(<span class=\"number\">50</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        combo.activated[<span class=\"built_in\">str</span>].connect(self.onActivated)        </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;QComboBox&#x27;</span>)</span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">onActivated</span>(<span class=\"params\">self, text</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.lbl.setText(text)</span><br><span class=\"line\">        self.lbl.adjustSize()  </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>","text":"PYQT5控件QCheckBox1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>2","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]},{"title":"Pyqt5中的常用模块与组件","slug":"应用窗口初始化","date":"2021-08-29T14:29:42.426Z","updated":"2021-08-30T20:48:02.559Z","comments":true,"path":"api/articles/应用窗口初始化.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"应用窗口初始化\"><a href=\"#应用窗口初始化\" class=\"headerlink\" title=\"应用窗口初始化\"></a>应用窗口初始化</h1><h2 id=\"QApplication与QWidget\"><a href=\"#QApplication与QWidget\" class=\"headerlink\" title=\"QApplication与QWidget\"></a>QApplication与QWidget</h2><p>QWidget控件是一个用户界面的基本控件，它提供了基本的应用构造器。默认情况下，构造器是没有父级的，没有父级的构造器被称为窗口（window）。</p>\n<p>窗口类型简介<a href=\"%5BQWidget,QMainWindow%E5%92%8CQDialog%E7%9A%84%E5%8C%BA%E5%88%AB%5D(https://blog.csdn.net/ikahn/article/details/6706284)\">^1</a><br>QMainWindow、QWidget、QDialog用于创建窗口，可以直接使用，也可以派生使用，这3个基类从名字上看分别是 “微件”、”对话框”、”主窗口。<br>QMainWindow窗口包含菜单栏、工具栏、状态栏、标题栏等，是最常见的窗口形式。<br>QDialog是对话框窗口的基类，主要用于执行短期任务，或与用户进行交互，可以是模态或非模态的。QDialog对话框没有菜单栏、工具栏、状态栏等。<br>QWidget是Qt图形组件的基类，可以作为顶层窗口，也可以嵌入到其它组件中。</p>\n<p>在创建Qt Gui Application时，总会让你选择在QWidget,QMainWindow和QDialog中选择一个Base Class。</p>\n<p>这三个类具体有什么区别呢？在Qt的手册和网上找了一些资料。</p>\n<p>先看官方的手册中的介绍：</p>\n<blockquote>\n<p>QWidget Class Reference<br>The QWidget class is the base class of all user interface objects.<br>Inherits: QObject and QPaintDevice.<br>Inherited by: ……, QDialog, ……,QMainWindow, ……</p>\n</blockquote>\n<blockquote>\n<p>QDialog Class Reference<br>The QDialog class is the base class of dialog windows.<br>Inherits: QWidget.</p>\n</blockquote>\n<blockquote>\n<p>QMainWindow Class Reference<br>The QMainWindow class provides a main application window.<br>Inherits: QWidget.</p>\n</blockquote>\n<p>可以看到QMainWindow和QDialog都是继承自QWidget。再看看下面那段从网上转过来的介绍，大概就能了解三者之间的区别了。</p>\n<p>QWidget类是所有用户界面对象的基类。 窗口部件是用户界面的一个原子：它从窗口系统接收鼠标、键盘和其它事件，并且在屏幕上绘制自己的表现。每一个窗口部件都是矩形，并且它们按Z轴顺序排列的。一个窗口部件可以被它的父窗口部件或者它前面的窗口部件盖住一部分。</p>\n<p>QMainWindow 类提供一个有菜单条、锚接窗口（例如工具条）和一个状态条的主应用程序窗口。主窗口通常用在提供一个大的中央窗口部件（例如文本编辑或者绘制画布）以及周围菜单、工具条和一个状态条。QMainWindow常常被继承，因为这使得封装中央部件、菜单和工具条以及窗口状态变得更容易。继承使创建当用户点击菜单项或者工具条按钮时被调用的槽成为可能。你也可以使用Qt设计器来创建主窗口。</p>\n<p>QDialog类是对话框窗口的基类。对话框窗口是主要用于短期任务以及和用户进行简要通讯的顶级窗口。QDialog可以是模式的也可以是非模式的。QDialog支持扩展性并且可以提供返回值。它们可以有默认按钮。QDialog也可以有一个QSizeGrip在它的右下角，使用setSizeGripEnabled()。</p>\n<p>QDialog 是最普通的顶级窗口。不被嵌入到一个父窗口部件的窗口部件被叫做顶级窗口部件。通常情况下，顶级窗口部件是有框架和标题栏的窗口（尽管如果使用了一定的窗口部件标记，创建顶级窗口部件时也可能没有这些装饰。）在Qt中，QMainWindow和和不同的QDialog的子类是最普通的顶级窗口。</p>\n<p>综上，如果是顶级对话框，那就基于QDialog创建，如果是主窗体，那就基于QMainWindow，如果不确定，或者有可能作为顶级窗体，或有可能嵌入到其他窗体中，则基于QWidget创建。当然了，实际中，你还可以基于任何其他部件类来派生。看实际需求了，比如QFrame、QStackedWidget等等。</p>\n<p>根据官方对QApplication的解释：<br>PyQt5.QtGui .QGuiApplication<br>继承自QCoreApplication，由PyQt5.QtWidgets .QApplication继承。<br>QApplication管理GUI程序的控制流和主要设置。<br>QApplication包含窗口系统和其他来源处理过和发送过的主事件循环。它也处理应用程序的初始化和收尾工作，并提供对话管理。<br>QApplication可以对系统和应用的大部分设置项进行设置。<br>对于用Qt写的任何一个GUI应用，不管这个应用有没有窗口或多少个窗口，有且只有一QApplication对象。<br>sys.argv是一组命令行参数的列表。Python可以在shell里运行，这个参数提供对脚本控制的功能<br>每一个PyQt5项目都需要创建一个 QApplication 对象。 sys.argv 则提供了命令行的一些参数，这样 Python 脚本就能从 Shell 运行，这是我们控制脚本开始运行的方式。</p>\n<p>至于为什么需要sys.argv，可以看<a href=\"https://stackoverflow.com/questions/27940378/why-do-i-need-sys-argv-to-start-a-qapplication-in-pyqt\">stackoverflow上的这一个回答</a>：<br>This calls the constructor of the C++ class QApplication.<br>It uses sys.argv (argc and argv in C++) to initialize the QT application.<br>There are a bunch of arguments that you can pass to QT, like styles, debugging stuff and so on.<br>以及官方文档：<a href=\"https://doc.qt.io/qt-5/qapplication.html#QApplication\">https://doc.qt.io/qt-5/qapplication.html#QApplication</a></p>\n<h2 id=\"Hello-World实例\"><a href=\"#Hello-World实例\" class=\"headerlink\" title=\"Hello World实例\"></a>Hello World实例</h2><p>以下是一个来自<a href=\"www.zetcode.com\">技术网站zetcode</a>的实例代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">In this example, we create a simple</span></span><br><span class=\"line\"><span class=\"string\">window in PyQt5.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QApplication, QWidget</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\"></span><br><span class=\"line\">    w = QWidget()</span><br><span class=\"line\">    w.resize(<span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">    w.move(<span class=\"number\">300</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">    w.setWindowTitle(<span class=\"string\">&#x27;Simple&#x27;</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    w.show()</span><br><span class=\"line\">    <span class=\"comment\">#QWidget类中的show()方法能让窗口在桌面上显示出来。注意窗口是在内存里创建，之后才能在显示器里显示出来</span></span><br><span class=\"line\"></span><br><span class=\"line\">    sys.exit(app.exec_())</span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    调用exit()方法或直接销毁窗口时，主循环就会结束。sys.exit()方法能确保主循环安全退出。外部环境会收到窗口如何结束的信息。</span></span><br><span class=\"line\"><span class=\"string\">    这里的方法exec_()之所以有个下划线，是因为exec是一个Python的关键字。</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"几个名词之间的区分\"><a href=\"#几个名词之间的区分\" class=\"headerlink\" title=\"几个名词之间的区分\"></a>几个名词之间的区分</h2><p>根据<a href=\"https://www.zetcode.com/gui/pyqt5/firstprograms/\">技术网站zetcode<a href=\"%5B%E6%8A%80%E6%9C%AF%E7%BD%91%E7%AB%99zetcode%5D(www.zetcode.com)\">^2</a>提供的相关英文文档</a>，内容如下：</p>\n<blockquote>\n<p>Here we provide the necessary imports. The basic widgets are located in <code>PyQt5.QtWidgets</code> module.</p>\n</blockquote>\n<blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app = QApplication(sys.argv) ```</span><br><span class=\"line\"></span><br><span class=\"line\">Every PyQt5 application must create an application object. The `sys.argv` parameter is a list of arguments from a command line. Python scripts can be run from the shell. It is a way how we can control the startup of our scripts.</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>w = QWidget()```</p>\n</blockquote>\n<blockquote>\n<p>The <code>QWidget</code> widget is the base class of all user interface objects in PyQt5. We provide the default constructor for <code>QWidget</code>. The default constructor has no parent. A widget with no parent is called a window.</p>\n</blockquote>\n<h2 id=\"带图标的窗口\"><a href=\"#带图标的窗口\" class=\"headerlink\" title=\"带图标的窗口\"></a>带图标的窗口</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例2  带图标的窗口</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This example shows an icon</span></span><br><span class=\"line\"><span class=\"string\">in the titlebar of the window.</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QApplication, QWidget</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtGui <span class=\"keyword\">import</span> QIcon</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\">        <span class=\"comment\">#使用initUI()方法创建一个GUI(图形用户界面 Graphical User Interface)。</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">220</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Icon&#x27;</span>)</span><br><span class=\"line\">        self.setWindowIcon(QIcon(<span class=\"string\">&#x27;icon.png&#x27;</span>))   </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        三个方法都继承自QWidget类。</span></span><br><span class=\"line\"><span class=\"string\">        setGeometry()有两个作用：</span></span><br><span class=\"line\"><span class=\"string\">        把窗口放到屏幕上并且设置窗口大小。参数分别代表屏幕坐标的x、y和窗口大小的宽、高。</span></span><br><span class=\"line\"><span class=\"string\">        也就是说这个方法是resize()和move()的合体。</span></span><br><span class=\"line\"><span class=\"string\">        setWindowTitle(&#x27;Icon&#x27;)为窗口添加了一个在标题栏展示文字&#x27;Icon&#x27;的标题</span></span><br><span class=\"line\"><span class=\"string\">        最后一个方法是添加了图标。先创建一个QIcon对象，然后接受一个路径作为参数显示图标。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span>     </span><br><span class=\"line\"></span><br><span class=\"line\">        self.show()</span><br><span class=\"line\">        <span class=\"comment\">#让控件在桌面上显示出来。控件在内存里创建，之后才能在显示器上显示出来。</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    MyApplication = QApplication(sys.argv) <span class=\"comment\">#创建应用对象，名称无所谓，后续操作相同即可</span></span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(MyApplication.exec_())         <span class=\"comment\">#销毁主控件</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"提示框\"><a href=\"#提示框\" class=\"headerlink\" title=\"提示框\"></a>提示框</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"string\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"comment\"># 例3 提示框</span></span><br><span class=\"line\">ZetCode PyQt5 tutorial </span><br><span class=\"line\"></span><br><span class=\"line\">This example shows a tooltip on </span><br><span class=\"line\">a window <span class=\"keyword\">and</span> a button.</span><br><span class=\"line\"></span><br><span class=\"line\">Author: Jan Bodnar</span><br><span class=\"line\">Website: zetcode.com </span><br><span class=\"line\">Last edited: August <span class=\"number\">2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">import sys</span></span><br><span class=\"line\"><span class=\"string\">from PyQt5.QtWidgets import (QWidget, QToolTip, </span></span><br><span class=\"line\"><span class=\"string\">    QPushButton, QApplication)</span></span><br><span class=\"line\"><span class=\"string\">    #引用相关模块</span></span><br><span class=\"line\"><span class=\"string\">from PyQt5.QtGui import QFont    </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">class Example(QWidget):</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    def __init__(self):</span></span><br><span class=\"line\"><span class=\"string\">        super().__init__()</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        self.initUI()</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    def initUI(self):</span></span><br><span class=\"line\"><span class=\"string\">        #为应用创建了一个提示框，10px的SansSerif字体</span></span><br><span class=\"line\"><span class=\"string\">        QToolTip.setFont(QFont(&#x27;SansSerif&#x27;, 10))</span></span><br><span class=\"line\"><span class=\"string\">        #QToolTip.setFont(QFont(&#x27;SansSerif&#x27;, 10,QFont.Bold,italic=True))</span></span><br><span class=\"line\"><span class=\"string\">        #函数QFont具体使用见 https://doc.qt.io/qtforpython/PySide6/QtGui/QFont.html</span></span><br><span class=\"line\"><span class=\"string\">        #参数：字体类型，大小（px），粗细，斜体...</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        btn = QPushButton(text=&#x27;Button&#x27;,parent=self)</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建一个继承自QPushButton的按钮。第一个参数text参数是想要显示的按钮名称，</span></span><br><span class=\"line\"><span class=\"string\">        第二个参数parent是按钮的父级组件，这个例子中，self所指的父级组件，就是我们创建的继承自Qwidget的Example类。</span></span><br><span class=\"line\"><span class=\"string\">        应用中的组件都是一层一层（继承而来的？）的，在这个层里，大部分的组件都有自己的父级，</span></span><br><span class=\"line\"><span class=\"string\">        没有父级的组件（parent=None,没有parent的QWidget类），是顶级的窗口，即被认为是最上层的窗体（通常是MainWindow）。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        #创建一个按钮，当鼠标悬浮于按钮时，提示&#x27;This is a QPushButton widget&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        btn.setToolTip(&#x27;This is a &lt;b&gt;QPushButton&lt;/b&gt; widget&#x27;)</span></span><br><span class=\"line\"><span class=\"string\">        #调用setTooltip()创建提示框可以使用富文本格式的内容</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        #当鼠标悬浮于窗口中时，提示&#x27;This is a QWidget widget&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        self.setToolTip(&#x27;This is a &lt;b&gt;QWidget&lt;/b&gt; widget&#x27;)</span></span><br><span class=\"line\"><span class=\"string\">        </span></span><br><span class=\"line\"><span class=\"string\">        btn.resize(btn.sizeHint())#sizeHint()会自动给定一个合适的尺寸</span></span><br><span class=\"line\"><span class=\"string\">        btn.move(50, 50)       </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        self.setGeometry(300, 300, 300, 200)</span></span><br><span class=\"line\"><span class=\"string\">        #setGeometry()把窗口放到屏幕上并且设置窗口大小，4个参数分别代表屏幕坐标的x、y和窗口大小的宽、高。</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        self.setWindowTitle(&#x27;Tooltips&#x27;)    #设置标题</span></span><br><span class=\"line\"><span class=\"string\">        self.show()</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">if __name__ == &#x27;__main__&#x27;:</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">    app = QApplication(sys.argv)</span></span><br><span class=\"line\"><span class=\"string\">    ex = Example()</span></span><br><span class=\"line\"><span class=\"string\">    sys.exit(app.exec_())</span></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"关闭窗口\"><a href=\"#关闭窗口\" class=\"headerlink\" title=\"关闭窗口\"></a>关闭窗口</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例4：关闭窗口</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program creates a quit</span></span><br><span class=\"line\"><span class=\"string\">button. When we press the button,</span></span><br><span class=\"line\"><span class=\"string\">the application terminates. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QPushButton, QApplication</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtCore <span class=\"keyword\">import</span> QCoreApplication</span><br><span class=\"line\"><span class=\"comment\">#程序需要QtCore对象</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        qbtn = QPushButton(text=<span class=\"string\">&#x27;Quit&#x27;</span>, parent=self)</span><br><span class=\"line\">        <span class=\"comment\">#创建一个继承自QPushButton的按钮。第一个参数text参数是想要显示的按钮名称，第二个参数parent是按钮的父级组件</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">#创建了一个点击之后就退出窗口的按钮。</span></span><br><span class=\"line\">        qbtn.clicked.connect(QCoreApplication.instance().quit)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        事件传递系统在PyQt5内建的single（信号）和slot（槽）机制里面。</span></span><br><span class=\"line\"><span class=\"string\">        点击按钮之后，信号会被捕捉并给出既定的反应。</span></span><br><span class=\"line\"><span class=\"string\">        QCoreApplication包含了事件的主循环，它能添加和删除所有的事件，instance()创建了一个它的实例。</span></span><br><span class=\"line\"><span class=\"string\">        QCoreApplication是在QApplication里创建的。 点击事件和能终止进程并退出应用的quit函数绑定在了一起。</span></span><br><span class=\"line\"><span class=\"string\">        在发送者和接受者之间建立了通讯，发送者就是按钮，接受者就是应用对象。</span></span><br><span class=\"line\"><span class=\"string\">        QpushButton常用的三种响应有pressed，released和clicked</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">        在Qt中，控件中的clicked（）信号和clicked（bool）信号是两个不同的信号，区别在于：</span></span><br><span class=\"line\"><span class=\"string\">        映射槽函数时，clicked（）信号映射到的槽函数是不带参的，clicked（bool）信号映射到的槽函数是带参数的。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">        qbtn.resize(qbtn.sizeHint())</span><br><span class=\"line\">        qbtn.move(<span class=\"number\">50</span>, <span class=\"number\">50</span>)       </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Quit button&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"消息盒子\"><a href=\"#消息盒子\" class=\"headerlink\" title=\"消息盒子\"></a>消息盒子</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例5  消息盒子</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program shows a confirmation </span></span><br><span class=\"line\"><span class=\"string\">message box when we click on the close</span></span><br><span class=\"line\"><span class=\"string\">button of the application window. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QMessageBox, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        self.setGeometry(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">250</span>, <span class=\"number\">150</span>)        </span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Message box&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    QWidget在程序窗口关闭时会触发 closeEvent() 事件</span></span><br><span class=\"line\"><span class=\"string\">    因此我们这里药重写窗口方法closeEvent,添加关闭窗口触发的事件</span></span><br><span class=\"line\"><span class=\"string\">    &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">closeEvent</span>(<span class=\"params\">self, event</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        reply = QMessageBox.question(self, <span class=\"string\">&#x27;Message&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&quot;Are you sure to quit?&quot;</span>, QMessageBox.Yes | </span><br><span class=\"line\">            QMessageBox.No, QMessageBox.No)</span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        创建了一个消息框，上面有俩按钮：Yes和No.第一个字符串显示在消息框的标题栏，第二个字符串显示在对话框，第三个参数是消息框的俩按钮，最后一个参数是默认按钮，这个按钮是默认选中的。返回值在变量reply里。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> reply == QMessageBox.Yes:</span><br><span class=\"line\">            event.accept()</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            event.ignore()     </span><br><span class=\"line\">        <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">        关闭QWidget，就会产生一个QCloseEvent，并且把它传入到closeEvent函数的event参数中。</span></span><br><span class=\"line\"><span class=\"string\">        改变控件的默认行为，就是替换掉默认的事件处理。</span></span><br><span class=\"line\"><span class=\"string\">        &#x27;&#x27;&#x27;</span></span><br><span class=\"line\">               </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"窗口居中\"><a href=\"#窗口居中\" class=\"headerlink\" title=\"窗口居中\"></a>窗口居中</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python3</span></span><br><span class=\"line\"><span class=\"comment\"># -*- coding: utf-8 -*-</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">例6：窗口居中</span></span><br><span class=\"line\"><span class=\"string\">ZetCode PyQt5 tutorial </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">This program centers a window </span></span><br><span class=\"line\"><span class=\"string\">on the screen. </span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">Author: Jan Bodnar</span></span><br><span class=\"line\"><span class=\"string\">Website: zetcode.com </span></span><br><span class=\"line\"><span class=\"string\">Last edited: August 2017</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">from</span> PyQt5.QtWidgets <span class=\"keyword\">import</span> QWidget, QDesktopWidget, QApplication</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Example</span>(<span class=\"params\">QWidget</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\">        <span class=\"built_in\">super</span>().__init__()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.initUI()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">initUI</span>(<span class=\"params\">self</span>):</span>               </span><br><span class=\"line\"></span><br><span class=\"line\">        self.resize(<span class=\"number\">250</span>, <span class=\"number\">150</span>)</span><br><span class=\"line\">        self.center()</span><br><span class=\"line\"></span><br><span class=\"line\">        self.setWindowTitle(<span class=\"string\">&#x27;Center&#x27;</span>)    </span><br><span class=\"line\">        self.show()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">center</span>(<span class=\"params\">self</span>):</span></span><br><span class=\"line\"></span><br><span class=\"line\">        qr = self.frameGeometry()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#这一句获得主窗口所在的框架，其中QtGui.QDesktopWidget提供了用户的桌面信息，包括屏幕的大小。</span></span><br><span class=\"line\">        cp = QDesktopWidget().availableGeometry().center()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#获取显示器的分辨率，然后得到屏幕中间点的位置。</span></span><br><span class=\"line\">        qr.moveCenter(cp)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#通过move函数把主窗口的左上角移动到其框架的左上角，实现窗口居中</span></span><br><span class=\"line\">        self.move(qr.topLeft())</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    app = QApplication(sys.argv)</span><br><span class=\"line\">    ex = Example()</span><br><span class=\"line\">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>\n\n\n\n\n<h2 id=\"References\"><a href=\"#References\" class=\"headerlink\" title=\"References\"></a>References</h2>","text":"应用窗口初始化QApplication与QWidgetQWidget控件是一个用户界面的基本控件，它提供了基本的应用构造器。默认情况下，构造器是没有父级的，没有父级的构造器被称为窗口（window）。窗口类型简介^1<br>QMainWindow、QWidget、QDialog用","link":"","raw":null,"photos":[],"categories":[{"name":"Programming languages and projects","slug":"Programming-languages-and-projects","count":15,"path":"api/categories/Programming-languages-and-projects.json"},{"name":"Python3","slug":"Programming-languages-and-projects/Python3","count":9,"path":"api/categories/Programming-languages-and-projects/Python3.json"},{"name":"PYQT5","slug":"Programming-languages-and-projects/Python3/PYQT5","count":9,"path":"api/categories/Programming-languages-and-projects/Python3/PYQT5.json"}],"tags":[{"name":"python3","slug":"python3","count":9,"path":"api/tags/python3.json"},{"name":"gui","slug":"gui","count":9,"path":"api/tags/gui.json"}]}]}